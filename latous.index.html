<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å›½ä¼ ç»Ÿæ¤ç‰©äººæ ¼æµ‹è¯•</title>
    <style>
        /* åŸºç¡€æ ·å¼ä¸ä¸­å›½é£è®¾è®¡ */
        :root {
            --primary-color: #d4669c;
            --secondary-color: linear-gradient(135deg, #fdf7f0 0%, #f9f0e8 50%, #f0e6dd 100%);
            --text-color: #2c1810;
            --bg-color: linear-gradient(135deg, #fef9f3 0%, #fdf4ed 50%, #f9f0e8 100%);
            --border-color: #d4a574;
            --transition-time: 0.3s;
            --lotus-color: #f3c1c9;
            --chrysanthemum-color: #f8d568;
            --peony-color: #e84c65;
            --bamboo-color: #8dc789;
            --plum-color: #eab3c3;
            --pine-color: #3f7554;
            --accent-color: #8e4585;
            --soft-pink: #f7d7e2;
            --soft-purple: #e8d5f2;
            --soft-gold: #f9e79f;
            --soft-green: #d5f4e6;
        }

        .dark {
            --primary-color: #c85151;
            --secondary-color: #4d4238;
            --text-color: #e8e8e8;
            --bg-color: #282521;
            --border-color: #635648;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "SimSun", sans-serif;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            transition: all var(--transition-time);
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(244, 102, 156, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(142, 69, 133, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(212, 166, 116, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        /* ä¸­å›½é£çº¸å¼ æ•ˆæœå®¹å™¨ */
        .scroll-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--secondary-color);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(212, 102, 156, 0.1), 0 4px 16px rgba(142, 69, 133, 0.08);
            position: relative;
            overflow: hidden;
            border: 2px solid;
            border-image: linear-gradient(135deg, #d4a574, #e8c547, #d4a574) 1;
        }



        h1 {
            background: linear-gradient(135deg, #d4669c, #8e4585, #5e3a70, #3d2a5b, #2d1f46);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.8rem;
            position: relative;
            display: inline-block;
            width: 100%;
            font-family: "KaiTi", "æ¥·ä½“", "STKaiti", serif;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            letter-spacing: 8px;
        }

        h1::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #d4669c, #8e4585, #d4669c, transparent);
            border-radius: 2px;
        }

        h1::after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #8e4585, #d4669c, #8e4585, transparent);
            border-radius: 1px;
        }

        p {
            margin-bottom: 20px;
            text-align: justify;
            line-height: 1.8;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 25px;
            transition: all 0.3s ease;
            display: block;
            margin: 25px auto;
            box-shadow: 0 6px 20px rgba(212, 102, 156, 0.3);
            position: relative;
            overflow: hidden;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover {
            background: linear-gradient(135deg, #b8548a, #7a3572);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(212, 102, 156, 0.4);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px);
        }

        /* é—®é¢˜ä¸é€‰é¡¹æ ·å¼ */
        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: bold;
            position: relative;
            padding-left: 25px;
        }

        .question::before {
            content: "é—®";
            position: absolute;
            left: 0;
            top: 0;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            color: white;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 3px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .option {
            background-color: var(--secondary-color);
            border: 1px solid var(--border-color);
            padding: 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            padding-left: 35px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: rgba(201, 173, 145, 0.3);
        }

        .option.selected {
            background-color: rgba(165, 63, 63, 0.2);
            border-color: var(--primary-color);
        }

        .option input {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--secondary-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.5s;
        }

        .progress-text {
            text-align: center;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* ç»“æœé¡µé¢æ ·å¼ */
        .result-container {
            text-align: center;
            padding: 20px;
        }

        .plant-image {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            position: relative;
        }

        .plant-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
            font-weight: bold;
        }

        .person-name {
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-style: italic;
        }

        .plant-description {
            margin-bottom: 20px;
            text-align: justify;
        }

        .plant-symbolism {
            margin-bottom: 20px;
            text-align: justify;
        }

        .plant-poem {
            font-style: italic;
            padding: 15px;
            background-color: rgba(201, 173, 145, 0.3);
            border-left: 3px solid var(--primary-color);
            margin-bottom: 20px;
            text-align: left;
        }

        .share-buttons {
            margin-top: 30px;
        }

        .restart-btn {
            margin-top: 30px;
        }

        /* è·èŠ±å›¾å½¢ */
        .lotus {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .lotus .center {
            position: absolute;
            width: 60px;
            height: 60px;
            background: #f8e58c;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .lotus .petal {
            position: absolute;
            width: 70px;
            height: 60px;
            background: var(--lotus-color);
            border-radius: 70% 0 70% 0;
            top: 50%;
            left: 50%;
        }

        .lotus .petal:nth-child(1) {
            transform: translate(-50%, -50%) rotate(0deg) translateX(50px);
        }

        .lotus .petal:nth-child(2) {
            transform: translate(-50%, -50%) rotate(45deg) translateX(50px);
        }

        .lotus .petal:nth-child(3) {
            transform: translate(-50%, -50%) rotate(90deg) translateX(50px);
        }

        .lotus .petal:nth-child(4) {
            transform: translate(-50%, -50%) rotate(135deg) translateX(50px);
        }

        .lotus .petal:nth-child(5) {
            transform: translate(-50%, -50%) rotate(180deg) translateX(50px);
        }

        .lotus .petal:nth-child(6) {
            transform: translate(-50%, -50%) rotate(225deg) translateX(50px);
        }

        .lotus .petal:nth-child(7) {
            transform: translate(-50%, -50%) rotate(270deg) translateX(50px);
        }

        .lotus .petal:nth-child(8) {
            transform: translate(-50%, -50%) rotate(315deg) translateX(50px);
        }

        .lotus .leaf {
            position: absolute;
            width: 80px;
            height: 40px;
            background: #65a865;
            border-radius: 50%;
            bottom: 0;
        }

        .lotus .leaf:nth-child(10) {
            left: 20px;
            transform: rotate(-20deg);
        }

        .lotus .leaf:nth-child(11) {
            right: 20px;
            transform: rotate(20deg);
        }

        /* èŠèŠ±å›¾å½¢ */
        .chrysanthemum {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .chrysanthemum .center {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #e08c3c;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .chrysanthemum .petal {
            position: absolute;
            width: 15px;
            height: 60px;
            background: var(--chrysanthemum-color);
            border-radius: 50% 50% 0 0;
            top: 50%;
            left: 50%;
            transform-origin: bottom center;
        }

        .chrysanthemum .stem {
            position: absolute;
            width: 5px;
            height: 80px;
            background: #65a865;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .chrysanthemum .leaf {
            position: absolute;
            width: 30px;
            height: 15px;
            background: #65a865;
            border-radius: 50% 50% 0 0;
            bottom: 30px;
        }

        .chrysanthemum .leaf:nth-child(19) {
            left: 40%;
            transform: rotate(-30deg);
        }

        .chrysanthemum .leaf:nth-child(20) {
            right: 40%;
            transform: rotate(30deg);
        }

        /* ç‰¡ä¸¹å›¾å½¢ */
        .peony {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .peony .center {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #f8d271;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .peony .layer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .peony .petal {
            position: absolute;
            width: 40px;
            height: 60px;
            background: var(--peony-color);
            border-radius: 50% 50% 50% 50% / 80% 80% 20% 20%;
        }

        .peony .stem {
            position: absolute;
            width: 8px;
            height: 70px;
            background: #65a865;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .peony .leaf {
            position: absolute;
            width: 40px;
            height: 25px;
            background: #65a865;
            border-radius: 50%;
            bottom: 40px;
        }

        .peony .leaf:nth-child(32) {
            left: 30px;
            transform: rotate(-30deg);
        }

        .peony .leaf:nth-child(33) {
            right: 30px;
            transform: rotate(30deg);
        }

        /* ç«¹å­å›¾å½¢ */
        .bamboo {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .bamboo .stalk {
            position: absolute;
            width: 15px;
            height: 180px;
            background: #8dc789;
            left: 50%;
            transform: translateX(-50%);
            top: 10px;
        }

        .bamboo .node {
            position: absolute;
            width: 20px;
            height: 5px;
            background: #65a865;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        .bamboo .leaf {
            position: absolute;
            width: 60px;
            height: 15px;
            background: var(--bamboo-color);
            border-radius: 100% 0 100% 0;
        }

        /* æ¢…èŠ±å›¾å½¢ */
        .plum {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .plum .branch {
            position: absolute;
            width: 5px;
            height: 120px;
            background: #795548;
            left: 50%;
            transform: translateX(-50%) rotate(15deg);
            top: 40px;
        }

        .plum .branch:nth-child(2) {
            transform: translateX(-70%) rotate(-20deg);
            height: 100px;
        }

        .plum .branch:nth-child(3) {
            transform: translateX(0%) rotate(30deg);
            height: 90px;
            top: 60px;
        }

        .plum .flower {
            position: absolute;
            width: 25px;
            height: 25px;
            background: var(--plum-color);
            border-radius: 50%;
        }
        
        /* æ¾æ ‘å›¾å½¢ */
        .pine {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .pine .trunk {
            position: absolute;
            width: 20px;
            height: 120px;
            background: #795548;
            left: 50%;
            transform: translateX(-50%);
            bottom: 0;
        }

        .pine .branch {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 80px solid transparent;
            border-right: 80px solid transparent;
            border-bottom: 70px solid var(--pine-color);
            left: 50%;
            transform: translateX(-50%);
        }

        /* é€‚é…ä¸åŒå±å¹•å°ºå¯¸ */
        @media screen and (max-width: 600px) {
            .scroll-container {
                padding: 15px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .option {
                padding: 10px 10px 10px 35px;
            }

            .plant-image {
                width: 150px;
                height: 150px;
            }
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        /* éšè—å…ƒç´  */
        .hidden {
            display: none;
        }

        /* æ·»åŠ ç«¹å­å¶ */
        .bamboo .leaf:nth-child(3) {
            top: 30px;
            left: 70px;
            transform: rotate(30deg);
        }

        .bamboo .leaf:nth-child(4) {
            top: 50px;
            left: 75px;
            transform: rotate(20deg);
        }

        .bamboo .leaf:nth-child(5) {
            top: 70px;
            left: 70px;
            transform: rotate(40deg);
        }

        .bamboo .leaf:nth-child(6) {
            top: 90px;
            left: 75px;
            transform: rotate(25deg);
        }

        .bamboo .leaf:nth-child(7) {
            top: 30px;
            right: 70px;
            transform: rotate(-30deg);
        }

        .bamboo .leaf:nth-child(8) {
            top: 50px;
            right: 75px;
            transform: rotate(-20deg);
        }

        .bamboo .leaf:nth-child(9) {
            top: 70px;
            right: 70px;
            transform: rotate(-40deg);
        }

        .bamboo .leaf:nth-child(10) {
            top: 90px;
            right: 75px;
            transform: rotate(-25deg);
        }

        /* æ·»åŠ ç«¹èŠ‚ */
        .bamboo .node:nth-child(11) {
            top: 40px;
        }

        .bamboo .node:nth-child(12) {
            top: 80px;
        }

        .bamboo .node:nth-child(13) {
            top: 120px;
        }

        .bamboo .node:nth-child(14) {
            top: 160px;
        }

        /* æ·»åŠ ç‰¡ä¸¹èŠ±ç“£ */
        .peony .petal:nth-child(1) {
            transform: rotate(0deg) translateY(-30px);
        }

        .peony .petal:nth-child(2) {
            transform: rotate(45deg) translateY(-30px);
        }

        .peony .petal:nth-child(3) {
            transform: rotate(90deg) translateY(-30px);
        }

        .peony .petal:nth-child(4) {
            transform: rotate(135deg) translateY(-30px);
        }

        .peony .petal:nth-child(5) {
            transform: rotate(180deg) translateY(-30px);
        }

        .peony .petal:nth-child(6) {
            transform: rotate(225deg) translateY(-30px);
        }

        .peony .petal:nth-child(7) {
            transform: rotate(270deg) translateY(-30px);
        }

        .peony .petal:nth-child(8) {
            transform: rotate(315deg) translateY(-30px);
        }

        /* æ·»åŠ ç¬¬äºŒå±‚ç‰¡ä¸¹èŠ±ç“£ */
        .peony .petal:nth-child(9) {
            transform: rotate(22.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(10) {
            transform: rotate(67.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(11) {
            transform: rotate(112.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(12) {
            transform: rotate(157.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(13) {
            transform: rotate(202.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(14) {
            transform: rotate(247.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(15) {
            transform: rotate(292.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        .peony .petal:nth-child(16) {
            transform: rotate(337.5deg) translateY(-45px);
            width: 35px;
            height: 55px;
        }

        /* æ·»åŠ èŠèŠ±èŠ±ç“£ */
        .chrysanthemum .petal:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg); }
        .chrysanthemum .petal:nth-child(2) { transform: translate(-50%, -50%) rotate(20deg); }
        .chrysanthemum .petal:nth-child(3) { transform: translate(-50%, -50%) rotate(40deg); }
        .chrysanthemum .petal:nth-child(4) { transform: translate(-50%, -50%) rotate(60deg); }
        .chrysanthemum .petal:nth-child(5) { transform: translate(-50%, -50%) rotate(80deg); }
        .chrysanthemum .petal:nth-child(6) { transform: translate(-50%, -50%) rotate(100deg); }
        .chrysanthemum .petal:nth-child(7) { transform: translate(-50%, -50%) rotate(120deg); }
        .chrysanthemum .petal:nth-child(8) { transform: translate(-50%, -50%) rotate(140deg); }
        .chrysanthemum .petal:nth-child(9) { transform: translate(-50%, -50%) rotate(160deg); }
        .chrysanthemum .petal:nth-child(10) { transform: translate(-50%, -50%) rotate(180deg); }
        .chrysanthemum .petal:nth-child(11) { transform: translate(-50%, -50%) rotate(200deg); }
        .chrysanthemum .petal:nth-child(12) { transform: translate(-50%, -50%) rotate(220deg); }
        .chrysanthemum .petal:nth-child(13) { transform: translate(-50%, -50%) rotate(240deg); }
        .chrysanthemum .petal:nth-child(14) { transform: translate(-50%, -50%) rotate(260deg); }
        .chrysanthemum .petal:nth-child(15) { transform: translate(-50%, -50%) rotate(280deg); }
        .chrysanthemum .petal:nth-child(16) { transform: translate(-50%, -50%) rotate(300deg); }
        .chrysanthemum .petal:nth-child(17) { transform: translate(-50%, -50%) rotate(320deg); }
        .chrysanthemum .petal:nth-child(18) { transform: translate(-50%, -50%) rotate(340deg); }

        /* æ·»åŠ æ¢…èŠ±èŠ±æœµ */
        .plum .flower:nth-child(4) { top: 30px; left: 50%; }
        .plum .flower:nth-child(5) { top: 60px; left: 30%; }
        .plum .flower:nth-child(6) { top: 75px; left: 60%; }
        .plum .flower:nth-child(7) { top: 100px; left: 40%; }
        .plum .flower:nth-child(8) { top: 120px; left: 70%; }
        .plum .flower:nth-child(9) { top: 50px; left: 75%; }
        .plum .flower:nth-child(10) { top: 90px; left: 20%; }

        /* æ·»åŠ æ¾æ ‘å±‚æ¬¡ */
        .pine .branch:nth-child(2) { bottom: 80px; }
        .pine .branch:nth-child(3) { bottom: 50px; border-bottom-width: 60px; }
        .pine .branch:nth-child(4) { bottom: 20px; border-bottom-width: 50px; }
        
        /* æœé¹ƒèŠ±å›¾å½¢ */
        .azalea {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .azalea .center {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #e3424b;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .azalea .petal {
            position: absolute;
            width: 35px;
            height: 45px;
            background: #ff6b6b;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            top: 50%;
            left: 50%;
        }
        
        .azalea .stem {
            position: absolute;
            width: 6px;
            height: 60px;
            background: #65a865;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .azalea .leaf {
            position: absolute;
            width: 35px;
            height: 20px;
            background: #65a865;
            border-radius: 50% 50% 50% 50%;
        }
        
        /* æ·»åŠ æœé¹ƒèŠ±ç“£ */
        .azalea .petal:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg) translateY(-30px); }
        .azalea .petal:nth-child(2) { transform: translate(-50%, -50%) rotate(45deg) translateY(-30px); }
        .azalea .petal:nth-child(3) { transform: translate(-50%, -50%) rotate(90deg) translateY(-30px); }
        .azalea .petal:nth-child(4) { transform: translate(-50%, -50%) rotate(135deg) translateY(-30px); }
        .azalea .petal:nth-child(5) { transform: translate(-50%, -50%) rotate(180deg) translateY(-30px); }
        .azalea .petal:nth-child(6) { transform: translate(-50%, -50%) rotate(225deg) translateY(-30px); }
        .azalea .petal:nth-child(7) { transform: translate(-50%, -50%) rotate(270deg) translateY(-30px); }
        .azalea .petal:nth-child(8) { transform: translate(-50%, -50%) rotate(315deg) translateY(-30px); }
        
        /* æ·»åŠ æœé¹ƒå¶å­ */
        .azalea .leaf:nth-child(10) { bottom: 30px; left: 30px; transform: rotate(-20deg); }
        .azalea .leaf:nth-child(11) { bottom: 50px; right: 30px; transform: rotate(20deg); }
        .azalea .leaf:nth-child(12) { bottom: 70px; left: 25px; transform: rotate(-30deg); }
        
        /* æµ·æ£ èŠ±å›¾å½¢ */
        .begonia {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .begonia .branch {
            position: absolute;
            width: 4px;
            height: 120px;
            background: #8b5a2b;
            left: 50%;
            transform: translateX(-50%) rotate(-10deg);
            top: 40px;
        }
        
        .begonia .branch:nth-child(2) {
            transform: translateX(-60%) rotate(-25deg);
            height: 90px;
        }
        
        .begonia .flower {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #f08080;
            border-radius: 50%;
        }
        
        .begonia .petal {
            position: absolute;
            width: 25px;
            height: 35px;
            background: #f08080;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        }
        
        .begonia .leaf {
            position: absolute;
            width: 40px;
            height: 25px;
            background: #558b2f;
            border-radius: 50%;
        }
        
        /* æ·»åŠ æµ·æ£ èŠ±ç“£å’ŒèŠ±æœµ */
        .begonia .flower:nth-child(3) { top: 40px; left: 40%; }
        .begonia .flower:nth-child(4) { top: 60px; left: 65%; }
        .begonia .flower:nth-child(5) { top: 85px; left: 45%; }
        
        .begonia .petal:nth-child(6) { top: 34px; left: 33%; transform: rotate(-30deg); }
        .begonia .petal:nth-child(7) { top: 34px; left: 47%; transform: rotate(30deg); }
        .begonia .petal:nth-child(8) { top: 54px; left: 58%; transform: rotate(-15deg); }
        .begonia .petal:nth-child(9) { top: 54px; left: 72%; transform: rotate(15deg); }
        .begonia .petal:nth-child(10) { top: 79px; left: 38%; transform: rotate(-25deg); }
        .begonia .petal:nth-child(11) { top: 79px; left: 52%; transform: rotate(25deg); }
        
        .begonia .leaf:nth-child(12) { top: 100px; left: 30px; transform: rotate(-30deg); }
        .begonia .leaf:nth-child(13) { top: 110px; right: 30px; transform: rotate(30deg); }
        
        /* æ¡ƒèŠ±å›¾å½¢ */
        .peach {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .peach .branch {
            position: absolute;
            width: 5px;
            height: 130px;
            background: #8b4513;
            left: 50%;
            transform: translateX(-50%) rotate(15deg);
            top: 40px;
        }
        
        .peach .branch:nth-child(2) {
            transform: translateX(-30%) rotate(-10deg);
            height: 100px;
            width: 4px;
        }
        
        .peach .branch:nth-child(3) {
            transform: translateX(20%) rotate(25deg);
            height: 110px;
            width: 3px;
            top: 50px;
        }
        
        .peach .flower {
            position: absolute;
            width: 28px;
            height: 28px;
            background: #ffb7c5;
            border-radius: 50%;
        }
        
        .peach .petal {
            position: absolute;
            width: 20px;
            height: 25px;
            background: #ffb7c5;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        }
        
        /* æ·»åŠ æ¡ƒèŠ±èŠ±æœµå’ŒèŠ±ç“£ */
        .peach .flower:nth-child(4) { top: 30px; left: 40%; }
        .peach .flower:nth-child(5) { top: 55px; left: 60%; }
        .peach .flower:nth-child(6) { top: 80px; left: 35%; }
        .peach .flower:nth-child(7) { top: 40px; left: 65%; }
        .peach .flower:nth-child(8) { top: 65px; left: 30%; }
        .peach .flower:nth-child(9) { top: 90px; left: 55%; }
        .peach .flower:nth-child(10) { top: 45px; left: 25%; }
        
        .peach .petal:nth-child(11) { top: 25px; left: 35%; transform: rotate(-30deg); }
        .peach .petal:nth-child(12) { top: 25px; left: 45%; transform: rotate(30deg); }
        .peach .petal:nth-child(13) { top: 50px; left: 55%; transform: rotate(-15deg); }
        .peach .petal:nth-child(14) { top: 50px; left: 65%; transform: rotate(15deg); }
        .peach .petal:nth-child(15) { top: 75px; left: 30%; transform: rotate(-25deg); }
        .peach .petal:nth-child(16) { top: 75px; left: 40%; transform: rotate(25deg); }

        /* å£çº¸ç”Ÿæˆç›¸å…³æ ·å¼ */
        .wallpaper-section {
            margin-top: 30px;
            padding: 20px;
            border-top: 2px solid var(--border-color);
            text-align: center;
        }
        
        .wallpaper-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .wallpaper-styles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .style-option {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--secondary-color);
        }
        
        .style-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .style-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(165, 63, 63, 0.1);
        }
        
        .style-preview {
            width: 60px;
            height: 80px;
            margin: 0 auto 10px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .style-name {
            font-size: 14px;
            color: var(--text-color);
        }
        
        /* èƒŒæ™¯æ ·å¼é¢„è§ˆ */
        .style-classic { background: linear-gradient(to bottom, #f4f1e8, #eae4d3, #ddd4c0); }
        .style-ink { background: linear-gradient(to bottom, #e8f4f8, #d4e7ed, #c0d8e0); }
        .style-elegant { background: linear-gradient(to bottom, #f8f8f8, #eeeeee, #e0e0e0); }
        .style-sunset { background: linear-gradient(to bottom, #ffeaa7, #fab1a0, #e17055); }
        .style-bamboo { background: linear-gradient(to bottom, #d5f4e6, #81ecec, #74b9ff); }
        .style-dark { background: linear-gradient(to bottom, #2d3436, #636e72, #74b9ff); }
        
        .wallpaper-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .wallpaper-btn:hover {
            background-color: #8a3232;
            transform: translateY(-2px);
        }
        
        .wallpaper-preview {
            margin-top: 20px;
            text-align: center;
        }
        
        .wallpaper-canvas {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            height: auto;
        }
        
        .download-btn {
            margin-top: 15px;
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .download-btn:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }
        
        .download-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease-in;
        }

        .modal-content {
            background-color: var(--secondary-color);
            margin: 5% auto;
            padding: 30px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            right: 15px;
            top: 15px;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: var(--primary-color);
            text-decoration: none;
        }

        .modal-styles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .modal-actions {
            text-align: center;
            margin-top: 30px;
        }

        .modal-generate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
            margin-right: 10px;
        }

        .modal-generate-btn:hover {
            background-color: #8a3232;
        }

        .modal-generate-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .modal-cancel-btn {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s;
        }

        .modal-cancel-btn:hover {
            background-color: #5a6268;
        }

        /* å£çº¸é¢„è§ˆåœ¨å¼¹çª—ä¸­ */
        .modal-wallpaper-preview {
            margin-top: 20px;
            text-align: center;
            display: none;
        }

        /* éŸ³ä¹æ§åˆ¶æ ·å¼ */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .music-button {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, rgba(212, 102, 156, 0.9), rgba(142, 69, 133, 0.9));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(212, 102, 156, 0.4);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .music-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(212, 102, 156, 0.5);
            background: linear-gradient(135deg, rgba(184, 84, 138, 0.9), rgba(122, 53, 114, 0.9));
        }

        .volume-panel {
            position: absolute;
            bottom: 70px;
            right: 0;
            background: linear-gradient(135deg, rgba(253, 247, 240, 0.95), rgba(249, 240, 232, 0.95));
            border: 1px solid rgba(212, 165, 116, 0.6);
            border-radius: 15px;
            padding: 20px 15px;
            box-shadow: 0 8px 32px rgba(212, 102, 156, 0.2);
            backdrop-filter: blur(10px);
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            min-width: 80px;
        }

        .volume-panel.show {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .volume-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 15px;
        }

        .volume-label {
            font-size: 12px;
            color: var(--text-color);
            margin-bottom: 10px;
            font-weight: 500;
        }

        #volume-slider {
            writing-mode: bt-lr; /* IE */
            -webkit-appearance: slider-vertical; /* Webkit */
            width: 8px;
            height: 100px;
            outline: none;
            background: linear-gradient(to top, #ddd, var(--primary-color));
            border-radius: 4px;
            cursor: pointer;
        }

        #volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        #volume-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .music-toggle {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            margin: 0 auto;
        }

        .music-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(212, 102, 156, 0.4);
        }

        /* æš—é»‘æ¨¡å¼ä¸‹çš„éŸ³ä¹æ§åˆ¶ */
        .dark .volume-panel {
            background: linear-gradient(135deg, rgba(77, 66, 56, 0.95), rgba(99, 86, 72, 0.95));
            border-color: rgba(99, 86, 72, 0.6);
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media screen and (max-width: 600px) {
            .music-control {
                bottom: 20px;
                right: 20px;
            }

            .music-button {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }

            .volume-panel {
                bottom: 60px;
                padding: 15px 12px;
            }

            #volume-slider {
                height: 80px;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
            
            .modal-styles {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯éŸ³ä¹éŸ³é¢‘å…ƒç´  -->
    <audio id="background-music" loop preload="auto">
        <source src="https://pfst.cf2.poecdn.net/base/audio/2e3837d85756485c0b171d11fb30040afd3ae5e1e44bc60e93fc40019efc9ee5" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
    </audio>

    <!-- éŸ³ä¹æ§åˆ¶ç•Œé¢ -->
    <div class="music-control" id="music-control">
        <div class="music-button" id="music-button" title="éŸ³ä¹æ§åˆ¶">ğŸŒ¸</div>
        <div class="volume-panel" id="volume-panel">
            <div class="volume-control">
                <input type="range" id="volume-slider" min="0" max="100" value="50" orient="vertical">
                <div class="volume-label">éŸ³é‡</div>
            </div>
            <div class="music-toggle" id="music-toggle" title="æ’­æ”¾/æš‚åœ">â¯ï¸</div>
        </div>
    </div>

    <div class="scroll-container">
        <!-- å¼€å§‹é¡µé¢ -->
        <div id="start-screen">
            <h1>è‰æœ¨æœ‰æœ¬å¿ƒ</h1>
            <p>ä¸­å›½ä¼ ç»Ÿæ–‡åŒ–ä¸­ï¼Œæ¤ç‰©å¸¸è¢«èµ‹äºˆç‰¹å®šçš„å“æ ¼è±¡å¾ã€‚é€šè¿‡è¿™ä¸ªæµ‹è¯•ï¼Œä½ å¯ä»¥äº†è§£è‡ªå·±ä¸å“ªç§ä¼ ç»Ÿæ¤ç‰©çš„å“æ ¼æœ€ä¸ºç›¸ä¼¼ï¼Œå¹¶ä¸”è®¤è¯†ä¸è¯¥æ¤ç‰©æœ‰æ·±åšè”ç³»çš„å†å²äººç‰©ã€‚</p>
            <p>æµ‹è¯•å…±æœ‰12é“é¢˜ç›®ï¼Œè¯·æ ¹æ®è‡ªå·±çš„çœŸå®æƒ³æ³•é€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹ã€‚å®Œæˆåï¼Œä½ å°†è·å¾—ä¸ªæ€§åŒ–çš„æ¤ç‰©äººæ ¼åˆ†æã€‚</p>
            <p>æœ¬æµ‹è¯•æ—¨åœ¨å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ã€Šçˆ±è²è¯´ã€‹ç­‰ç»å…¸æ–‡å­¦ä½œå“ä¸­æ¤ç‰©çš„è±¡å¾æ„ä¹‰ï¼Œä»¥åŠä¸­å›½ä¼ ç»Ÿæ–‡åŒ–çš„å®¡ç¾ä¸ä»·å€¼è§‚å¿µã€‚</p>
            <button id="start-btn" class="btn">å¼€å§‹æµ‹è¯•</button>
        </div>

        <!-- é—®é¢˜é¡µé¢ -->
        <div id="question-screen" class="hidden">
            <h1>ä¸­å›½ä¼ ç»Ÿæ¤ç‰©äººæ ¼æµ‹è¯•</h1>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="progress-text" class="progress-text">é—®é¢˜ 1/12</div>
            </div>
            
            <div id="question-container" class="question-container">
                <!-- é—®é¢˜å†…å®¹å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
            </div>
            
            <button id="next-btn" class="btn">ä¸‹ä¸€é¢˜</button>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div id="result-screen" class="hidden">
            <h1>æµ‹è¯•ç»“æœ</h1>
            
            <div id="result-container" class="result-container">
                <!-- ç»“æœå†…å®¹å°†é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½ -->
            </div>
            
            <button id="restart-btn" class="btn restart-btn">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <!-- å£çº¸æ ·å¼é€‰æ‹©å¼¹çª— -->
    <div id="wallpaper-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeWallpaperModal()">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title">é€‰æ‹©å£çº¸æ ·å¼</h2>
                <p>è¯·é€‰æ‹©æ‚¨å–œæ¬¢çš„å£çº¸èƒŒæ™¯æ ·å¼ï¼š</p>
            </div>
            
            <div class="modal-styles">
                <div class="style-option" onclick="selectModalStyle('classic')">
                    <div class="style-preview style-classic"></div>
                    <div class="style-name">å…¸é›…å¤é£</div>
                </div>
                <div class="style-option" onclick="selectModalStyle('ink')">
                    <div class="style-preview style-ink"></div>
                    <div class="style-name">æ°´å¢¨é£éŸµ</div>
                </div>
                <div class="style-option" onclick="selectModalStyle('elegant')">
                    <div class="style-preview style-elegant"></div>
                    <div class="style-name">æ¸…é›…ç»å°˜</div>
                </div>
                <div class="style-option" onclick="selectModalStyle('sunset')">
                    <div class="style-preview style-sunset"></div>
                    <div class="style-name">è½éœé£é›</div>
                </div>
                <div class="style-option" onclick="selectModalStyle('bamboo')">
                    <div class="style-preview style-bamboo"></div>
                    <div class="style-name">é’ç«¹å¦‚èŒµ</div>
                </div>
                <div class="style-option" onclick="selectModalStyle('dark')">
                    <div class="style-preview style-dark"></div>
                    <div class="style-name">å¢¨éŸµæµèŠ³</div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-generate-btn" id="modal-generate-btn" onclick="generateModalWallpaper()" disabled>ç”Ÿæˆå£çº¸</button>
                <button class="modal-cancel-btn" onclick="closeWallpaperModal()">å–æ¶ˆ</button>
            </div>
            
            <div class="modal-wallpaper-preview" id="modal-wallpaper-preview">
                <canvas id="modal-wallpaper-canvas" class="wallpaper-canvas" width="1080" height="1920"></canvas>
                <div>
                    <button class="download-btn" onclick="downloadModalWallpaper()">ä¸‹è½½å£çº¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ£€æµ‹æš—é»‘æ¨¡å¼
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // æµ‹è¯•æ•°æ®
        const questions = [
            {
                question: "æ”¾å‡æ—¶ï¼Œä½ æœ€å–œæ¬¢å»å“ªé‡Œæ”¾æ¾ï¼Ÿ",
                options: [
                    { text: "æ¹–è¾¹æˆ–æ°´ä¸Šå…¬å›­ï¼Œæ¬£èµè·èŠ±å’Œæ°´æ™¯", scores: { lotus: 3, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 0, pine: 0, azalea: 0, begonia: 0, peach: 1 } },
                    { text: "ä¹¡é—´ç”°é‡ï¼Œæ„Ÿå—å®é™çš„è‡ªç„¶é£å…‰", scores: { lotus: 0, chrysanthemum: 3, peony: 0, bamboo: 0, plum: 1, pine: 0, azalea: 0, begonia: 1, peach: 2 } },
                    { text: "è§‚èµèŠ±å‰çš„å…¬å›­ï¼Œæ¬£èµäº‰å¥‡æ–—è‰³çš„èŠ±æœµ", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 1, pine: 0, azalea: 2, begonia: 3, peach: 3 } },
                    { text: "å±±æ—æˆ–åŸå§‹æ£®æ—ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„åŠ›é‡", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 0, pine: 3, azalea: 3, begonia: 0, peach: 1 } }
                ]
            },
            {
                question: "é¢å¯¹å›°éš¾æ—¶ï¼Œä½ é€šå¸¸ä¼šæ€ä¹ˆåšï¼Ÿ",
                options: [
                    { text: "è¶…ç„¶ç‰©å¤–ï¼Œä¿æŒå†…å¿ƒå¹³é™ï¼Œå¯»æ‰¾æœ€ä½³è§£å†³æ–¹æ¡ˆ", scores: { lotus: 3, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 0, pine: 1, azalea: 0, begonia: 0, peach: 1 } },
                    { text: "å¼¯è€Œä¸æŠ˜ï¼Œçµæ´»è°ƒæ•´è‡ªå·±çš„è®¡åˆ’", scores: { lotus: 0, chrysanthemum: 1, peony: 0, bamboo: 3, plum: 0, pine: 0, azalea: 1, begonia: 1, peach: 2 } },
                    { text: "çƒ­æƒ…å¥”æ”¾åœ°è¿æˆ˜ï¼Œå±•ç°è‡ªä¿¡ä¸å‹‡æ°”", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 1, plum: 0, pine: 2, azalea: 3, begonia: 1, peach: 1 } },
                    { text: "åœ¨é€†å¢ƒä¸­åšéŸ§ä¸æ‹”ï¼Œè¶ŠæŒ«è¶Šå‹‡ï¼Œå‚²ç„¶æŒºç«‹", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 3, pine: 1, azalea: 1, begonia: 0, peach: 0 } }
                ]
            },
            {
                question: "ä½ è®¤ä¸ºè‡ªå·±æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ",
                options: [
                    { text: "å¿ƒçµçº¯å‡€ï¼Œä¸éšæ³¢é€æµï¼Œåšå®ˆåŸåˆ™", scores: { lotus: 3, chrysanthemum: 1, peony: 0, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "é¢å¯¹å›°éš¾åšéŸ§ä¸æ‹”ï¼Œæœ‰å¾ˆå¼ºçš„æ„å¿—åŠ›", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 3, pine: 1, azalea: 1, begonia: 0, peach: 0 } },
                    { text: "åä¸½å¤§æ–¹ï¼Œå–„äºè¡¨è¾¾ï¼Œæœ‰å¾ˆå¼ºçš„è¡¨ç°åŠ›", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 2, peach: 1 } },
                    { text: "æƒ…æ„Ÿä¸°å¯Œï¼Œå……æ»¡äººæ–‡å…³æ€€ï¼Œå¿ƒç³»ä»–äºº", scores: { lotus: 0, chrysanthemum: 0, peony: 1, bamboo: 0, plum: 0, pine: 0, azalea: 3, begonia: 3 } }
                ]
            },
            {
                question: "åœ¨äººé™…äº¤å¾€ä¸­ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ",
                options: [
                    { text: "ç‹¬å¤„è‡ªåœ¨ï¼Œä¸çŸ¥å·±ç›¸å¤„èæ´½ï¼Œä¸å–œå–§é—¹", scores: { lotus: 1, chrysanthemum: 3, peony: 0, bamboo: 0, plum: 1, pine: 0, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "å¹¿äº¤æœ‹å‹ï¼Œæˆä¸ºç¤¾äº¤ä¸­å¿ƒï¼Œäº«å—çƒ­é—¹", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 1, plum: 0, pine: 0, azalea: 1, begonia: 2, peach: 2 } },
                    { text: "ä¿æŒé€‚åº¦ç¤¾äº¤ï¼Œé‡è´¨ä¸é‡é‡ï¼Œæ·±åº¦äº¤æµ", scores: { lotus: 3, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 0, pine: 1, azalea: 0, begonia: 0, peach: 1 } },
                    { text: "æƒ…æ„Ÿä¸°å¯Œç»†è…»ï¼Œå–„äºå€¾å¬å’Œè¡¨è¾¾å…³æ€€", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 1, pine: 0, azalea: 3, begonia: 3 } }
                ]
            },
            {
                question: "ä½ å–œæ¬¢ä»€ä¹ˆæ ·çš„è‰ºæœ¯é£æ ¼ï¼Ÿ",
                options: [
                    { text: "ç®€çº¦æ¸…é›…ï¼Œå¯“æ„æ·±è¿œçš„æ°´å¢¨ç”»", scores: { lotus: 3, chrysanthemum: 1, peony: 0, bamboo: 2, plum: 2, pine: 0, azalea: 0, begonia: 0 } },
                    { text: "è‰²å½©ä¸°å¯Œï¼Œçƒ­çƒˆå¥”æ”¾çš„æ²¹ç”»", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 0, pine: 0, azalea: 3, begonia: 2 } },
                    { text: "å……æ»¡è¯—æ„ï¼ŒéŸµå‘³æ·±é•¿çš„è¯èµ‹", scores: { lotus: 1, chrysanthemum: 2, peony: 0, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 3 } },
                    { text: "æ°”åŠ¿æ¢å®ï¼ŒåšéŸ§æœ‰åŠ›çš„é›•å¡‘", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 1, pine: 3, azalea: 2, begonia: 0 } }
                ]
            },
            {
                question: "ä½ å¦‚ä½•çœ‹å¾…ååˆ©ï¼Ÿ",
                options: [
                    { text: "è¿½æ±‚å†…å¿ƒå¹³é™ï¼Œä¸ä¸ºå¤–ç‰©æ‰€æ‰°ï¼Œè¶…ç„¶è„±ä¿—", scores: { lotus: 3, chrysanthemum: 2, peony: 0, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "è¿½æ±‚å“è¶Šæˆå°±å’Œç¤¾ä¼šè®¤å¯ï¼Œé›å®¹åè´µ", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 1, plum: 0, pine: 0, azalea: 1, begonia: 1, peach: 1 } },
                    { text: "æœ‰åŸåˆ™åœ°è¿½æ±‚ç†æƒ³ï¼Œä¸å±ˆä»ä¸–ä¿—ï¼ŒåšæŒæ­£ä¹‰", scores: { lotus: 1, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 2, pine: 0, azalea: 3, begonia: 0, peach: 0 } },
                    { text: "çœ‹é‡ç²¾ç¥ä»·å€¼ï¼Œä½†ä¹Ÿäº«å—ç”Ÿæ´»çš„ç¾å¥½", scores: { lotus: 0, chrysanthemum: 1, peony: 1, bamboo: 3, plum: 1, pine: 2, azalea: 0, begonia: 3 } }
                ]
            },
            {
                question: "é¢å¯¹æŒ«æŠ˜å’Œå¤±è´¥ï¼Œä½ çš„æ€åº¦æ˜¯ï¼Ÿ",
                options: [
                    { text: "åšå¿ä¸æ‹”ï¼Œä»ä¸è½»è¨€æ”¾å¼ƒï¼Œå¦‚é›ªä¸­æŒºç«‹", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 2, pine: 3, azalea: 1, begonia: 0, peach: 0 } },
                    { text: "ä¿æŒå†…å¿ƒå¹³é™ï¼Œä»¥æ™ºæ…§è§£å›°ï¼Œå‡ºæ±¡æ³¥è€Œä¸æŸ“", scores: { lotus: 3, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 0, pine: 0, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "æƒ…æ„Ÿå……æ²›ï¼Œæœ‰æ—¶ä¼šæ„Ÿä¼¤ï¼Œä½†æœ€ç»ˆèƒ½é‡æ–°æŒ¯ä½œ", scores: { lotus: 0, chrysanthemum: 0, peony: 1, bamboo: 0, plum: 0, pine: 0, azalea: 2, begonia: 3 } },
                    { text: "å¦‚æ¢…èŠ±å‚²é›ªï¼Œåœ¨é€†å¢ƒä¸­å¯»æ‰¾ç”Ÿæœºï¼Œé‡æ–°ç»½æ”¾", scores: { lotus: 0, chrysanthemum: 2, peony: 0, bamboo: 2, plum: 3, pine: 1, azalea: 0, begonia: 0 } }
                ]
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§å­£èŠ‚çš„æ™¯è‰²ï¼Ÿ",
                options: [
                    { text: "å¤å­£çš„è·å¡˜ï¼Œè·èŠ±äº­äº­ç‰ç«‹äºæ°´ä¸­", scores: { lotus: 3, chrysanthemum: 0, peony: 1, bamboo: 1, plum: 0, pine: 0, azalea: 0, begonia: 0 } },
                    { text: "ç§‹å­£çš„ç”°é‡ï¼ŒèŠèŠ±å‚²éœœæ€’æ”¾", scores: { lotus: 0, chrysanthemum: 3, peony: 0, bamboo: 0, plum: 0, pine: 1, azalea: 0, begonia: 0 } },
                    { text: "æ˜¥å¤©çš„å±±å¡ï¼Œæ¼«å±±éé‡çš„æœé¹ƒèŠ±ç››å¼€", scores: { lotus: 0, chrysanthemum: 0, peony: 1, bamboo: 0, plum: 0, pine: 0, azalea: 3, begonia: 2 } },
                    { text: "å†¬å¤©çš„é›ªæ™¯ï¼Œæ¢…èŠ±ä¸æ¾æ ‘åœ¨é›ªä¸­å‚²ç„¶æŒºç«‹", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 3, pine: 3, azalea: 0, begonia: 0 } }
                ]
            },
            {
                question: "ä½ æ€æ ·çœ‹å¾…äººç”Ÿä¸­çš„æŒ‘æˆ˜ï¼Ÿ",
                options: [
                    { text: "æŒ‘æˆ˜æ˜¯ç£¨ç»ƒæ„å¿—çš„æœºä¼šï¼Œè®©äººæ›´åŠ åšå¼º", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 1, plum: 2, pine: 3, azalea: 1, begonia: 0 } },
                    { text: "ä¸å› å¤–ç‰©è€ŒåŠ¨æ‘‡æœ¬å¿ƒï¼Œä¿æŒè¶…ç„¶æ€åº¦", scores: { lotus: 3, chrysanthemum: 1, peony: 0, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 0 } },
                    { text: "é¢å¯¹ä¸å…¬æ­£æŒ‘æˆ˜æ—¶ä»åšå®ˆè‡ªå·±çš„ä¿¡å¿µå’Œå°Šä¸¥", scores: { lotus: 1, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 2, pine: 0, azalea: 3, begonia: 0 } },
                    { text: "åœ¨æŒ‘æˆ˜ä¸­ä½“éªŒç”Ÿæ´»çš„ä¸°å¯Œæ€§å’Œæƒ…æ„Ÿæ·±åº¦", scores: { lotus: 0, chrysanthemum: 0, peony: 2, bamboo: 0, plum: 0, pine: 0, azalea: 1, begonia: 3 } }
                ]
            },
            {
                question: "ä½ æœ€æ¬£èµå“ªç§å“è´¨ï¼Ÿ",
                options: [
                    { text: "é«˜æ´å“å¾·ï¼Œä¸ä¸ä¸–ä¿—åŒæµåˆæ±¡ï¼Œä¿æŒçº¯å‡€", scores: { lotus: 3, chrysanthemum: 1, peony: 0, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "åšéŸ§ä¸æ‹”ï¼Œç™¾æŠ˜ä¸æŒ çš„ç²¾ç¥å“è´¨", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 3, pine: 3, azalea: 1, begonia: 0, peach: 0 } },
                    { text: "ç‚½çƒ­çš„çˆ±å›½ç²¾ç¥å’Œä¸ç•å¼ºæƒçš„å‹‡æ°”", scores: { lotus: 0, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 1, pine: 0, azalea: 3, begonia: 0, peach: 0 } },
                    { text: "ä¸°å¯Œæ·±åˆ»çš„æƒ…æ„Ÿè¡¨è¾¾å’Œè‰ºæœ¯å¤©èµ‹", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 3, peach: 1 } }
                ]
            },
            {
                question: "åœ¨å·¥ä½œæˆ–å­¦ä¹ ä¸­ï¼Œä½ æ›´æ³¨é‡ï¼Ÿ",
                options: [
                    { text: "ä¸“æ³¨äºæ·±åº¦å’Œç²¾ç›Šæ±‚ç²¾ï¼ŒæŒä¹‹ä»¥æ’", scores: { lotus: 2, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 0, pine: 3, azalea: 0, begonia: 0, peach: 0 } },
                    { text: "ä¿æŒçµæ´»ï¼Œè¿½æ±‚åˆ›æ–°ä¸çªç ´", scores: { lotus: 0, chrysanthemum: 1, peony: 0, bamboo: 3, plum: 1, pine: 0, azalea: 1, begonia: 0, peach: 2 } },
                    { text: "æ³¨é‡è¡¨ç°ä¸æˆæœï¼Œå±•ç°åä¸½é£é‡‡", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 1, peach: 1 } },
                    { text: "å……æ»¡æ„Ÿæƒ…ä¸çƒ­æƒ…åœ°æŠ•å…¥å·¥ä½œ", scores: { lotus: 0, chrysanthemum: 0, peony: 1, bamboo: 0, plum: 0, pine: 0, azalea: 3, begonia: 3, peach: 2 } }
                ]
            },
            {
                question: "å¦‚æœä½ æ˜¯ä¸€ç§é¢œè‰²ï¼Œä½ ä¼šæ˜¯ï¼Ÿ",
                options: [
                    { text: "æ¸…é›…çš„ç²‰ç™½è‰²ï¼Œä»£è¡¨çº¯æ´ä¸é«˜é›…", scores: { lotus: 3, chrysanthemum: 0, peony: 0, bamboo: 0, plum: 1, pine: 0, azalea: 0, begonia: 0, peach: 1 } },
                    { text: "çƒ­çƒˆçš„é²œçº¢è‰²ï¼Œä»£è¡¨çƒ­æƒ…ä¸æ´»åŠ›", scores: { lotus: 0, chrysanthemum: 0, peony: 3, bamboo: 0, plum: 0, pine: 0, azalea: 3, begonia: 1, peach: 0 } },
                    { text: "æ¸…æ–°çš„ç¿ ç»¿è‰²ï¼Œä»£è¡¨ç”Ÿæœºä¸å¸Œæœ›", scores: { lotus: 0, chrysanthemum: 1, peony: 0, bamboo: 3, plum: 0, pine: 1, azalea: 0, begonia: 0, peach: 2 } },
                    { text: "æŸ”ç¾çš„æ·¡ç²‰è‰²ï¼Œä»£è¡¨æ¸©æŸ”ä¸å¿§æ„", scores: { lotus: 0, chrysanthemum: 0, peony: 1, bamboo: 0, plum: 0, pine: 0, azalea: 0, begonia: 3, peach: 3 } }
                ]
            }
        ];

        // æ¤ç‰©èµ„æ–™
        const plants = {
            lotus: {
                name: "è²èŠ±",
                englishName: "Lotus",
                person: "å‘¨æ•¦é¢",
                image: `<div class="lotus">
                            <div class="center"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                        </div>`,
                features: "è²èŠ±å‡ºæ·¤æ³¥è€Œä¸æŸ“ï¼Œç”Ÿäºæ°´ä¸­å´ä¸ä¸ºæ°´æ‰€æ±¡ã€‚å…¶èŠ±è‰²å¤šä¸ºç²‰ç™½ï¼ŒèŠ±ç“£å±‚å±‚å±•å¼€ï¼Œä¸­å¤®é‡‘é»„è‰²èŠ±è•Šï¼Œæ ¹èŒç”Ÿäºæ°´åº•æ³¥ä¸­ï¼Œå¶å¤§è€Œåœ†ï¼Œæ‰˜å‡ºæ°´é¢ã€‚è²èŠ±å¯å…¨æ ªåˆ©ç”¨ï¼Œæ˜¯ä¸­å›½ä¼ ç»Ÿçš„è§‚èµä¸é£Ÿç”¨æ¤ç‰©ã€‚",
                symbolism: "è²èŠ±è±¡å¾é«˜æ´å“æ ¼ã€çº¯å‡€å¿ƒçµå’Œè¶…å‡¡è„±ä¿—çš„æ°”è´¨ã€‚å‘¨æ•¦é¢åœ¨ã€Šçˆ±è²è¯´ã€‹ä¸­èµç¾è²èŠ±èº«å¤„æ±¡æµŠå´èƒ½ä¿æŒçº¯æ´çš„å“è´¨ã€‚é€‰æ‹©è²èŠ±çš„ä½ ï¼Œå¿ƒçµçº¯å‡€ï¼Œä¸éšæ³¢é€æµï¼Œå³ä½¿èº«å¤„å¤æ‚ç¯å¢ƒä¹Ÿèƒ½åšå®ˆè‡ªå·±çš„åŸåˆ™å’Œä¿¡å¿µã€‚",
                poem: "ã€Šçˆ±è²è¯´ã€‹ - å‘¨æ•¦é¢\näºˆç‹¬çˆ±è²ä¹‹å‡ºæ·¤æ³¥è€Œä¸æŸ“ï¼Œæ¿¯æ¸…æ¶Ÿè€Œä¸å¦–ï¼Œä¸­é€šå¤–ç›´ï¼Œä¸è”“ä¸æï¼Œé¦™è¿œç›Šæ¸…ï¼Œäº­äº­å‡€æ¤ï¼Œå¯è¿œè§‚è€Œä¸å¯äºµç©ç„‰ã€‚"
            },
            chrysanthemum: {
                name: "èŠèŠ±",
                englishName: "Chrysanthemum",
                person: "é™¶æ¸Šæ˜",
                image: `<div class="chrysanthemum">
                            <div class="center"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="stem"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                        </div>`,
                features: "èŠèŠ±å“ç§ç¹å¤šï¼Œé¢œè‰²å„å¼‚ï¼Œæœ‰é»„ã€ç™½ã€ç´«ç­‰è‰²ã€‚èŠ±ç“£ç»†é•¿ï¼Œå›´ç»•ä¸­å¿ƒå‘ˆæ”¾å°„çŠ¶æ’åˆ—ã€‚èŠèŠ±åœ¨å¯’ç§‹æ—¶èŠ‚ç››å¼€ï¼Œç»éœœè€Œä¸å‡‹ï¼Œæ˜¯ä¸­å›½ä¼ ç»Ÿçš„ç§‹å­£èŠ±å‰ä»£è¡¨ã€‚",
                symbolism: "èŠèŠ±è±¡å¾é«˜æ´å“æ ¼å’ŒåšéŸ§ä¸æ‹”çš„ç²¾ç¥ã€‚ä¸œæ™‹è¯—äººé™¶æ¸Šæ˜éšå±…ç”°å›­ï¼Œä»¥èŠä¸ºä¼´ï¼Œå´‡å°šç®€æœ´è‡ªç„¶çš„ç”Ÿæ´»ã€‚é€‰æ‹©èŠèŠ±çš„ä½ ï¼Œæ·¡æ³Šååˆ©ï¼Œè¿½æ±‚å†…å¿ƒçš„å¹³é™ä¸æ»¡è¶³ï¼Œä¸ä¸ºå¤–ç•Œçº·æ‰°æ‰€åŠ¨ã€‚ä½ å‘å¾€ç®€å•çº¯ç²¹çš„ç”Ÿæ´»ï¼Œæ‡‚å¾—åœ¨å¹³å‡¡ä¸­å‘ç°ç¾å¥½ã€‚",
                poem: "ã€Šé¥®é…’ã€‹ - é™¶æ¸Šæ˜\nç»“åºåœ¨äººå¢ƒï¼Œè€Œæ— è½¦é©¬å–§ã€‚é—®å›ä½•èƒ½å°”ï¼Ÿå¿ƒè¿œåœ°è‡ªåã€‚é‡‡èŠä¸œç¯±ä¸‹ï¼Œæ‚ ç„¶è§å—å±±ã€‚å±±æ°”æ—¥å¤•ä½³ï¼Œé£é¸Ÿç›¸ä¸è¿˜ã€‚æ­¤ä¸­æœ‰çœŸæ„ï¼Œæ¬²è¾¨å·²å¿˜è¨€ã€‚"
            },
            peony: {
                name: "ç‰¡ä¸¹",
                englishName: "Peony",
                person: "æ¨è´µå¦ƒ",
                image: `<div class="peony">
                            <div class="center"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="stem"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                        </div>`,
                features: "ç‰¡ä¸¹èŠ±å¤§è‰²è‰³ï¼Œä»¥çº¢ã€ç²‰ã€ç™½ã€ç´«ç­‰è‰²ä¸ºä¸»ã€‚èŠ±ç“£ä¸°æ»¡åšå®ï¼Œå±‚å±‚å å ã€‚å¶ç‰‡å‘ˆæ·±ç»¿è‰²ï¼ŒèŒå¹²ç²—å£®ã€‚ç‰¡ä¸¹åœ¨æ˜¥å­£ç››å¼€ï¼Œå§¿æ€é›å®¹åè´µã€‚",
                symbolism: "ç‰¡ä¸¹è±¡å¾å¯Œè´µã€è£åä¸ç¾ä¸½ã€‚å”ä»£æ¨è´µå¦ƒæçˆ±ç‰¡ä¸¹ï¼Œæ›¾åœ¨é•¿å®‰åŸå»ºé€ ç‰¡ä¸¹å›­ã€‚é€‰æ‹©ç‰¡ä¸¹çš„ä½ ï¼Œæ€§æ ¼å¼€æœ—å¤§æ–¹ï¼Œçƒ­çˆ±ç”Ÿæ´»ï¼Œä¸æƒ§å±•ç¤ºè‡ªå·±çš„æ‰åä¸é­…åŠ›ã€‚ä½ æœ‰è¿½æ±‚å“è¶Šçš„å†³å¿ƒï¼Œæ¸´æœ›æˆå°±ç²¾å½©äººç”Ÿï¼ŒåŒæ—¶ä¹Ÿæ‡‚å¾—æ¬£èµç¾å¥½äº‹ç‰©ï¼Œäº«å—ç”Ÿæ´»çš„ä¹è¶£ã€‚",
                poem: "ã€Šæ¸…å¹³è°ƒÂ·å…¶ä¸€ã€‹ - æç™½\näº‘æƒ³è¡£è£³èŠ±æƒ³å®¹ï¼Œæ˜¥é£æ‹‚æ§›éœ²åæµ“ã€‚è‹¥éç¾¤ç‰å±±å¤´è§ï¼Œä¼šå‘ç‘¶å°æœˆä¸‹é€¢ã€‚"
            },
            bamboo: {
                name: "ç«¹å­",
                englishName: "Bamboo",
                person: "è‹è½¼",
                image: `<div class="bamboo">
                            <div class="stalk"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                            <div class="node"></div>
                        </div>`,
                features: "ç«¹å­å››å­£å¸¸é’ï¼ŒèŒå¹²æŒºç›´ï¼ŒèŠ‚èŠ‚å‘ä¸Šï¼Œæœ‰æ˜æ˜¾çš„ç«¹èŠ‚ã€‚å¶ç‰‡ç»†é•¿ï¼Œç¿ ç»¿è‰²ï¼Œç°Œç°Œä½œå“ã€‚ç«¹å­ç”Ÿé•¿è¿…é€Ÿï¼Œé€‚åº”æ€§å¼ºï¼Œèƒ½åœ¨å„ç§ç¯å¢ƒä¸­èŒå£®æˆé•¿ã€‚",
                symbolism: "ç«¹å­è±¡å¾æ­£ç›´ã€è°¦è™šå’ŒåšéŸ§ã€‚åŒ—å®‹æ–‡å­¦å®¶è‹è½¼æ›¾è¡¨è¾¾äº†å¯¹ç«¹å­çš„å–œçˆ±ï¼Œè®¤ä¸ºç”Ÿæ´»ä¸­ä¸å¯ç¼ºå°‘ç«¹å­çš„é«˜é›…æ°”è´¨ã€‚é€‰æ‹©ç«¹å­çš„ä½ ï¼Œä¸ºäººæ­£ç›´å¦è¡ï¼Œè™šæ€€è‹¥è°·ï¼Œèƒ½å®¹çº³ä¸åŒè§‚ç‚¹ã€‚ä½ é€‚åº”åŠ›å¼ºï¼Œé‡åˆ°å›°éš¾èƒ½å¤Ÿè¿…é€Ÿè°ƒæ•´è‡ªå·±ï¼Œä¿æŒå†…å¿ƒçš„å¹³è¡¡ä¸éŸ§æ€§ã€‚",
                poem: "ã€Šäºæ½œåƒ§ç»¿ç­ è½©ã€‹ - è‹è½¼\nå¯ä½¿é£Ÿæ— è‚‰ï¼Œä¸å¯ä½¿å±…æ— ç«¹ã€‚æ— è‚‰ä»¤äººç˜¦ï¼Œæ— ç«¹ä»¤äººä¿—ã€‚äººç˜¦å°šå¯è‚¥ï¼Œå£«ä¿—ä¸å¯åŒ»ã€‚"
            },
            plum: {
                name: "æ¢…èŠ±",
                englishName: "Plum Blossom",
                person: "æ—é€‹",
                image: `<div class="plum">
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                        </div>`,
                features: "æ¢…èŠ±å¤šä¸ºç™½è‰²æˆ–ç²‰çº¢è‰²ï¼ŒèŠ±ç“£äº”ç‰‡ï¼Œç®€æ´ç´ é›…ã€‚æ¢…æ ‘æå¹²è‹åŠ²æœ‰åŠ›ï¼Œå‘ˆä¸è§„åˆ™æ›²æŠ˜çŠ¶ã€‚æ¢…èŠ±åœ¨å¯’å†¬ç››å¼€ï¼Œå‚²é›ªå‡Œéœœï¼Œæ˜¯ä¸­å›½ä¼ ç»Ÿçš„å²å¯’ä¸‰å‹ï¼ˆæ¾ã€ç«¹ã€æ¢…ï¼‰ä¹‹ä¸€ã€‚",
                symbolism: "æ¢…èŠ±è±¡å¾åšéŸ§ä¸æ‹”ã€ç™¾æŠ˜ä¸æŒ çš„ç²¾ç¥ã€‚åŒ—å®‹éšé€¸è¯—äººæ—é€‹åœ¨æ­å·è¥¿æ¹–éšå±…ï¼Œç§æ¢…å…»é¹¤ï¼Œè¿‡ç€å®é™è¯—æ„çš„ç”Ÿæ´»ã€‚é€‰æ‹©æ¢…èŠ±çš„ä½ ï¼Œæ‹¥æœ‰åšå¼ºçš„æ„å¿—å’Œä¸ç•å›°éš¾çš„å‹‡æ°”ï¼ŒåŒæ—¶å‘å¾€å®é™æ·¡é›…çš„ç”Ÿæ´»ï¼Œåœ¨é€†å¢ƒä¸­èƒ½ä¿æŒä¹è§‚å‘ä¸Šçš„æ€åº¦ã€‚",
                poem: "ã€Šå±±å›­å°æ¢…ã€‹ - æ—é€‹\nç–å½±æ¨ªæ–œæ°´æ¸…æµ…ï¼Œæš—é¦™æµ®åŠ¨æœˆé»„æ˜ã€‚"
            },
            pine: {
                name: "æ¾æ ‘",
                englishName: "Pine",
                person: "æœç”«",
                image: `<div class="pine">
                            <div class="trunk"></div>
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="branch"></div>
                        </div>`,
                features: "æ¾æ ‘å¸¸å¹´è‹ç¿ ï¼Œæ ‘å¹²æŒºç›´ç²—å£®ï¼Œæ ‘çš®å‘ˆæ·±è¤è‰²ã€‚æ¾é’ˆç»†é•¿ï¼Œå¸¸å¹´ä¸è½ã€‚æ¾æ ‘ç”Ÿå‘½åŠ›æå¼ºï¼Œèƒ½åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿå­˜ï¼Œå¯¿å‘½æ‚ é•¿ï¼Œæ˜¯ä¸­å›½ä¼ ç»Ÿçš„é•¿å¯¿è±¡å¾ã€‚",
                symbolism: "æ¾æ ‘è±¡å¾åšéŸ§ä¸æ‹”ã€ä¸ç•è‰°éš¾çš„å“æ ¼ã€‚å”ä»£è¯—äººæœç”«ä¸€ç”Ÿé¢ æ²›æµç¦»ï¼Œå´å§‹ç»ˆå…³å¿ƒå›½å®¶å‘½è¿ï¼Œå…¶ç²¾ç¥å¦‚åŒæ¾æ ‘èˆ¬æŒºç«‹ä¸å€’ã€‚é€‰æ‹©æ¾æ ‘çš„ä½ ï¼Œæ€§æ ¼åšæ¯…æ²‰ç¨³ï¼Œæœ‰è´£ä»»æ„Ÿå’Œä½¿å‘½æ„Ÿã€‚ä½ é¢å¯¹å›°éš¾æ—¶èƒ½å¤Ÿæ³°ç„¶å¤„ä¹‹ï¼ŒæŒä¹‹ä»¥æ’åœ°è¿½æ±‚è‡ªå·±çš„ç›®æ ‡ï¼Œå±•ç°å‡ºè¶…è¶Šå¸¸äººçš„æ¯…åŠ›ä¸å‹‡æ°”ã€‚",
                poem: "ã€Šæœ›å²³ã€‹ - æœç”«\nå²±å®—å¤«å¦‚ä½•ï¼Ÿé½é²é’æœªäº†ã€‚é€ åŒ–é’Ÿç¥ç§€ï¼Œé˜´é˜³å‰²æ˜æ™“ã€‚è¡èƒ¸ç”Ÿå±‚äº‘ï¼Œå†³çœ¦å…¥å½’é¸Ÿã€‚ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å°ã€‚"
            },
            azalea: {
                name: "æœé¹ƒèŠ±",
                englishName: "Azalea",
                person: "æå•†éš",
                image: `<div class="azalea">
                            <div class="center"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="stem"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                        </div>`,
                features: "æœé¹ƒèŠ±è‰²å½©è‰³ä¸½ï¼Œæœ‰çº¢ã€ç²‰ã€ç™½ã€ç´«ç­‰è‰²ï¼ŒèŠ±æœŸè¾ƒé•¿ã€‚ä¼ è¯´æœé¹ƒèŠ±æ˜¯æœé¹ƒé¸Ÿå•¼è¡€æ‰€åŒ–ï¼Œå› æ­¤åˆæœ‰è®¸å¤šç¾ä¸½çš„åˆ«åã€‚æœé¹ƒèŠ±èƒ½åœ¨æ¶åŠ£ç¯å¢ƒä¸­ç”Ÿé•¿ï¼Œé€‚åº”æ€§å¼ºï¼Œå¸¸è§äºå±±å¡ä¸Šã€‚",
                symbolism: "æœé¹ƒèŠ±è±¡å¾ä¸å±ˆçš„çˆ±å›½ç²¾ç¥ã€æ‚²å£®ç¾ä¸æƒ…æ„Ÿä¸°å¯Œã€‚å”ä»£è¯—äººæå•†éšåœ¨ã€Šé”¦ç‘Ÿã€‹ä¸­ä»¥'æœ›å¸æ˜¥å¿ƒæ‰˜æœé¹ƒ'æŠ’å‘æ·±æ²‰çš„æƒ…æ„Ÿã€‚é€‰æ‹©æœé¹ƒèŠ±çš„ä½ ï¼Œæ‹¥æœ‰å¼ºçƒˆçš„æƒ…æ„Ÿä¸äººæ–‡å…³æ€€ï¼Œå¿ƒç³»å®¶å›½ï¼Œå³ä½¿é¢å¯¹ä¸å…¬æ­£çš„å¾…é‡ä¹Ÿèƒ½åšå®ˆè‡ªå·±çš„ç†æƒ³å’Œä¿¡å¿µã€‚",
                poem: "ã€Šé”¦ç‘Ÿã€‹ - æå•†éš\nåº„ç”Ÿæ™“æ¢¦è¿·è´è¶ï¼Œæœ›å¸æ˜¥å¿ƒæ‰˜æœé¹ƒã€‚æ²§æµ·æœˆæ˜ç æœ‰æ³ªï¼Œè“ç”°æ—¥æš–ç‰ç”ŸçƒŸã€‚"
            },
            begonia: {
                name: "æµ·æ£ ",
                englishName: "Begonia",
                person: "ææ¸…ç…§",
                image: `<div class="begonia">
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="leaf"></div>
                            <div class="leaf"></div>
                        </div>`,
                features: "æµ·æ£ èŠ±å§¿ä¼˜ç¾ï¼ŒèŠ±æœµè‰²å½©è‰³ä¸½ï¼Œå¤šä¸ºçº¢è‰²æˆ–ç²‰è‰²ï¼Œæ˜¥å­£å¼€èŠ±ã€‚ä¸æ¡ƒèŠ±ç›¸ä¼¼ä½†æ›´åŠ ä¸°è…´åè´µï¼Œæœ‰èŠ±ä¸­ç¥ä»™ä¹‹ç§°ã€‚æµ·æ£ èŠ±æœŸè™½çŸ­ï¼Œå´æä¸ºå¨‡ç¾ï¼Œå¸¸è¢«ç”¨æ¥æ¯”å–»ç¾äººã€‚",
                symbolism: "æµ·æ£ èŠ±è±¡å¾ç»†è…»çš„æƒ…æ„Ÿä¸å¯¹ç¾å¥½äº‹ç‰©çš„çæƒœã€‚å®‹ä»£å¥³è¯äººææ¸…ç…§å–„äºæ•æ‰ç”Ÿæ´»ä¸­çš„ç»†å¾®ç¾å¥½ï¼Œå…¶è¯ä½œæƒ…æ„ŸçœŸæŒšç»†è…»ã€‚é€‰æ‹©æµ·æ£ çš„ä½ ï¼Œæ„Ÿæƒ…ä¸°å¯Œæ•æ„Ÿï¼Œå–„äºè§‚å¯Ÿç”Ÿæ´»ä¸­çš„ç¾å¥½ä¸å¿§ä¼¤ï¼Œåœ¨æ•æ„Ÿä¸­ä¿æŒåšéŸ§ï¼Œè¿½æ±‚å®Œç¾çš„è‰ºæœ¯ä¸æƒ…æ„Ÿè¡¨è¾¾ã€‚",
                poem: "ã€Šå¦‚æ¢¦ä»¤ã€‹ - ææ¸…ç…§\næ˜¨å¤œé›¨ç–é£éª¤ï¼Œæµ“ç¡ä¸æ¶ˆæ®‹é…’ã€‚è¯•é—®å·å¸˜äººï¼Œå´é“æµ·æ£ ä¾æ—§ã€‚çŸ¥å¦ï¼ŒçŸ¥å¦ï¼Ÿåº”æ˜¯ç»¿è‚¥çº¢ç˜¦ã€‚"
            },
            peach: {
                name: "æ¡ƒèŠ±",
                englishName: "Peach Blossom",
                person: "ç™½å±…æ˜“",
                image: `<div class="peach">
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="branch"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="flower"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                        </div>`,
                features: "æ¡ƒèŠ±èŠ±ç“£äº”ç‰‡ï¼Œè‰²å½©ä»æ·¡ç²‰åˆ°æ·±çº¢ä¸ç­‰ï¼Œæ˜¥å­£ç››å¼€ã€‚æ¡ƒèŠ±æ˜¯æ˜¥å¤©çš„ä½¿è€…ï¼Œè±¡å¾ç€ç”Ÿæœºä¸å¸Œæœ›ã€‚èŠ±æœŸè™½çŸ­ï¼Œä½†å¼€æ”¾æ—¶æä¸ºç»šçƒ‚ç¾ä¸½ï¼Œç»™äººä»¥å¼ºçƒˆçš„è§†è§‰å†²å‡»ã€‚",
                symbolism: "æ¡ƒèŠ±è±¡å¾å¸Œæœ›ã€é‡æ–°å‘ç°ç¾å¥½å’Œä¹è§‚å‘ä¸Šçš„ç²¾ç¥ã€‚å”ä»£è¯—äººç™½å±…æ˜“åœ¨å›°å¢ƒä¸­ä»èƒ½å‘ç°ç”Ÿæ´»çš„ç¾å¥½ï¼Œä¿æŒç§¯æçš„å¿ƒæ€ã€‚é€‰æ‹©æ¡ƒèŠ±çš„ä½ ï¼Œä¹è§‚å‘ä¸Šï¼Œå¯¹ç”Ÿæ´»å……æ»¡çƒ­çˆ±å’Œå¸Œæœ›ï¼Œå–„äºåœ¨å¹³å‡¡ä¸­å‘ç°ä¸å¹³å‡¡çš„ç¾å¥½ï¼Œå³ä½¿åœ¨å›°å¢ƒä¸­ä¹Ÿèƒ½ä¿æŒç§¯æçš„å¿ƒæ€ã€‚",
                poem: "ã€Šå¤§æ—å¯ºæ¡ƒèŠ±ã€‹ - ç™½å±…æ˜“\näººé—´å››æœˆèŠ³è²å°½ï¼Œå±±å¯ºæ¡ƒèŠ±å§‹ç››å¼€ã€‚é•¿æ¨æ˜¥å½’æ— è§…å¤„ï¼Œä¸çŸ¥è½¬å…¥æ­¤ä¸­æ¥ã€‚"
            }
        };

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let scores = {
            lotus: 0,
            chrysanthemum: 0,
            peony: 0,
            bamboo: 0,
            plum: 0,
            pine: 0,
            azalea: 0,
            begonia: 0,
            peach: 0
        };
        let userResult = '';

        // DOM å…ƒç´ 
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionContainer = document.getElementById('question-container');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const resultContainer = document.getElementById('result-container');
        const nextBtn = document.getElementById('next-btn');

        // æŒ‰é’®äº‹ä»¶
        document.getElementById('start-btn').addEventListener('click', startTest);
        nextBtn.addEventListener('click', nextQuestion);
        document.getElementById('restart-btn').addEventListener('click', restartTest);

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            startScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            loadQuestion(0);
        }

        // åŠ è½½é—®é¢˜
        function loadQuestion(index) {
            const question = questions[index];
            
            // æ›´æ–°è¿›åº¦
            progressFill.style.width = `${((index + 1) / questions.length) * 100}%`;
            progressText.textContent = `é—®é¢˜ ${index + 1}/${questions.length}`;
            
            // åˆ›å»ºé—®é¢˜å†…å®¹
            let questionHTML = `
                <div class="question">${question.question}</div>
                <div class="options-grid">
            `;
            
            // æ·»åŠ é€‰é¡¹
            question.options.forEach((option, optionIndex) => {
                questionHTML += `
                    <label class="option">
                        <input type="radio" name="question-${index}" value="${optionIndex}" />
                        ${option.text}
                    </label>
                `;
            });
            
            questionHTML += `</div>`;
            
            questionContainer.innerHTML = questionHTML;
            
            // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    nextBtn.disabled = false;
                });
            });
            
            // ç¦ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®ï¼Œç›´åˆ°ç”¨æˆ·é€‰æ‹©é€‰é¡¹
            nextBtn.disabled = true;
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            // è·å–ç”¨æˆ·é€‰æ‹©
            const selectedOption = document.querySelector(`input[name="question-${currentQuestion}"]:checked`);
            
            if (selectedOption) {
                const optionIndex = parseInt(selectedOption.value);
                const selectedScores = questions[currentQuestion].options[optionIndex].scores;
                
                // æ›´æ–°åˆ†æ•°
                for (const plant in selectedScores) {
                    scores[plant] += selectedScores[plant];
                }
                
                currentQuestion++;
                
                if (currentQuestion < questions.length) {
                    loadQuestion(currentQuestion);
                } else {
                    showResult();
                }
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            questionScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            // æ‰¾å‡ºå¾—åˆ†æœ€é«˜çš„æ¤ç‰©
            let maxScore = 0;
            let resultPlant = '';
            
            for (const plant in scores) {
                if (scores[plant] > maxScore) {
                    maxScore = scores[plant];
                    resultPlant = plant;
                }
            }
            
            userResult = resultPlant;
            showPlantResult(resultPlant);
        }

        // æ˜¾ç¤ºæ¤ç‰©ç»“æœ
        function showPlantResult(plantKey) {
            const result = plants[plantKey];
            
            // æ„å»ºç»“æœHTML
            let resultHTML = `
                <div class="plant-image" id="${plantKey}-image">
                    ${result.image}
                </div>
                <div class="plant-title">ä½ çš„æ¤ç‰©äººæ ¼ï¼š${result.name} ${result.englishName}</div>
                <div class="person-name">å¯¹åº”å†å²äººç‰©ï¼š${result.person}</div>
                <h3>æ¤ç‰©ç‰¹å¾</h3>
                <div class="plant-description">${result.features}</div>
                <h3>äººæ ¼è±¡å¾</h3>
                <div class="plant-symbolism">${result.symbolism}</div>
                
                <div class="wallpaper-section">
                    <div class="wallpaper-buttons">
                        <button class="wallpaper-btn" onclick="openWallpaperModal('${plantKey}')">ç”Ÿæˆè¯—å¥å£çº¸</button>
                    </div>
                </div>


            `;
            
            resultContainer.innerHTML = resultHTML;
        }

        // å…¨å±€å˜é‡å­˜å‚¨é€‰ä¸­çš„æ ·å¼
        let selectedWallpaperStyle = '';

        // é€‰æ‹©æ ·å¼
        function selectStyle(plantKey, style) {
            // ç§»é™¤ä¹‹å‰çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.style-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // æ·»åŠ å½“å‰é€‰ä¸­çŠ¶æ€
            event.target.closest('.style-option').classList.add('selected');
            
            // ä¿å­˜é€‰ä¸­çš„æ ·å¼
            selectedWallpaperStyle = style;
            
            // å¯ç”¨ç”ŸæˆæŒ‰é’®
            document.getElementById(`generate-btn-${plantKey}`).disabled = false;
        }

        // è·å–æ ·å¼é…ç½®
        function getStyleConfig(style) {
            const configs = {
                classic: {
                    background: ['#f4f1e8', '#eae4d3', '#ddd4c0'],
                    borderColor: '#8b7355',
                    innerBorderColor: '#a89780',
                    textColor: '#2c1810'
                },
                ink: {
                    background: ['#e8f4f8', '#d4e7ed', '#c0d8e0'],
                    borderColor: '#5a6c7d',
                    innerBorderColor: '#7a8d9c',
                    textColor: '#1a2530'
                },
                elegant: {
                    background: ['#f8f8f8', '#eeeeee', '#e0e0e0'],
                    borderColor: '#999999',
                    innerBorderColor: '#bbbbbb',
                    textColor: '#333333'
                },
                sunset: {
                    background: ['#ffeaa7', '#fab1a0', '#e17055'],
                    borderColor: '#d63031',
                    innerBorderColor: '#e84393',
                    textColor: '#2d3436'
                },
                bamboo: {
                    background: ['#d5f4e6', '#81ecec', '#74b9ff'],
                    borderColor: '#00b894',
                    innerBorderColor: '#00cec9',
                    textColor: '#2d3436'
                },
                dark: {
                    background: ['#2d3436', '#636e72', '#74b9ff'],
                    borderColor: '#ddd',
                    innerBorderColor: '#bbb',
                    textColor: '#ffffff'
                }
            };
            return configs[style] || configs.classic;
        }

        // ç”Ÿæˆå£çº¸
        function generateWallpaper(plantKey) {
            if (!selectedWallpaperStyle) {
                alert('è¯·å…ˆé€‰æ‹©å£çº¸æ ·å¼');
                return;
            }

            const result = plants[plantKey];
            const canvas = document.getElementById(`wallpaper-canvas-${plantKey}`);
            const ctx = canvas.getContext('2d');
            const styleConfig = getStyleConfig(selectedWallpaperStyle);
            
            // è®¾ç½®æ‰‹æœºå£çº¸å°ºå¯¸
            canvas.width = 1080;
            canvas.height = 1920;
            
            // åˆ›å»ºæ¸å˜èƒŒæ™¯
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, styleConfig.background[0]);
            gradient.addColorStop(0.5, styleConfig.background[1]);
            gradient.addColorStop(1, styleConfig.background[2]);
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶è£…é¥°è¾¹æ¡†
            ctx.strokeStyle = styleConfig.borderColor;
            ctx.lineWidth = 8;
            ctx.strokeRect(60, 60, canvas.width - 120, canvas.height - 120);
            
            // å†…è¾¹æ¡†
            ctx.strokeStyle = styleConfig.innerBorderColor;
            ctx.lineWidth = 3;
            ctx.strokeRect(90, 90, canvas.width - 180, canvas.height - 180);
            
            // è®¾ç½®å­—ä½“å’Œé¢œè‰²
            ctx.fillStyle = styleConfig.textColor;
            ctx.textAlign = 'center';
            
            // è§£æè¯—å¥
            const poemLines = result.poem.split('\n');
            const title = poemLines[0]; // è¯—æ­Œæ ‡é¢˜
            const author = poemLines[0].includes(' - ') ? poemLines[0].split(' - ')[1] : '';
            const poemContent = poemLines.slice(1).join('\n');
            
            // ç»˜åˆ¶æ ‡é¢˜
            ctx.font = 'bold 48px serif';
            const titleParts = title.split(' - ');
            if (titleParts.length > 1) {
                ctx.fillText(titleParts[0], canvas.width / 2, 300);
            } else {
                ctx.fillText(title, canvas.width / 2, 300);
            }
            
            // ç»˜åˆ¶è¯—å¥å†…å®¹ï¼ˆç«–æ’æ–‡å­—ï¼Œä»å³åˆ°å·¦ï¼‰
            ctx.font = '42px serif';
            const lines = poemContent.split('\n').filter(line => line.trim());
            const startX = canvas.width - 200;
            const lineSpacing = 120;
            const charSpacing = 50;
            
            lines.forEach((line, lineIndex) => {
                if (line.trim()) {
                    const x = startX - lineIndex * lineSpacing;
                    const chars = line.trim().split('');
                    
                    chars.forEach((char, charIndex) => {
                        if (char !== 'ï¼Œ' && char !== 'ã€‚' && char !== 'ï¼Ÿ' && char !== 'ï¼') {
                            const y = 500 + charIndex * charSpacing;
                            if (y < canvas.height - 400) {
                                ctx.fillText(char, x, y);
                            }
                        }
                    });
                }
            });
            
            // ç»˜åˆ¶ä½œè€…åï¼ˆå·¦ä¸‹è§’ï¼‰
            ctx.font = '36px serif';
            ctx.textAlign = 'left';
            if (author) {
                ctx.fillText(author, 150, canvas.height - 200);
            }
            
            // æ˜¾ç¤ºé¢„è§ˆ
            document.getElementById(`wallpaper-preview-${plantKey}`).style.display = 'block';
        }

        // ä¸‹è½½å£çº¸
        function downloadWallpaper(plantKey) {
            const canvas = document.getElementById(`wallpaper-canvas-${plantKey}`);
            const result = plants[plantKey];
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const link = document.createElement('a');
            link.download = `${result.name}_${result.person}_è¯—å¥å£çº¸.png`;
            link.href = canvas.toDataURL('image/png');
            
            // è§¦å‘ä¸‹è½½
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // å¼¹çª—ç›¸å…³å˜é‡
        let currentPlantForWallpaper = '';
        let selectedModalStyle = '';

        // æ‰“å¼€å£çº¸å¼¹çª—
        function openWallpaperModal(plantKey) {
            currentPlantForWallpaper = plantKey;
            selectedModalStyle = '';
            
            // é‡ç½®é€‰æ‹©çŠ¶æ€
            document.querySelectorAll('.modal-styles .style-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.getElementById('modal-generate-btn').disabled = true;
            document.getElementById('modal-wallpaper-preview').style.display = 'none';
            
            document.getElementById('wallpaper-modal').style.display = 'block';
        }

        // å…³é—­å£çº¸å¼¹çª—
        function closeWallpaperModal() {
            document.getElementById('wallpaper-modal').style.display = 'none';
        }

        // é€‰æ‹©å¼¹çª—ä¸­çš„æ ·å¼
        function selectModalStyle(style) {
            // ç§»é™¤ä¹‹å‰çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.modal-styles .style-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // æ·»åŠ å½“å‰é€‰ä¸­çŠ¶æ€
            event.target.closest('.style-option').classList.add('selected');
            
            // ä¿å­˜é€‰ä¸­çš„æ ·å¼
            selectedModalStyle = style;
            
            // å¯ç”¨ç”ŸæˆæŒ‰é’®
            document.getElementById('modal-generate-btn').disabled = false;
        }

        // åœ¨å¼¹çª—ä¸­ç”Ÿæˆå£çº¸
        function generateModalWallpaper() {
            if (!selectedModalStyle || !currentPlantForWallpaper) {
                alert('è¯·å…ˆé€‰æ‹©å£çº¸æ ·å¼');
                return;
            }

            const result = plants[currentPlantForWallpaper];
            const canvas = document.getElementById('modal-wallpaper-canvas');
            const ctx = canvas.getContext('2d');
            const styleConfig = getStyleConfig(selectedModalStyle);
            
            // è®¾ç½®æ‰‹æœºå£çº¸å°ºå¯¸
            canvas.width = 1080;
            canvas.height = 1920;
            
            // åˆ›å»ºæ¸å˜èƒŒæ™¯
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, styleConfig.background[0]);
            gradient.addColorStop(0.5, styleConfig.background[1]);
            gradient.addColorStop(1, styleConfig.background[2]);
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶è£…é¥°è¾¹æ¡†
            ctx.strokeStyle = styleConfig.borderColor;
            ctx.lineWidth = 8;
            ctx.strokeRect(80, 80, canvas.width - 160, canvas.height - 160);
            
            // å†…è¾¹æ¡†
            ctx.strokeStyle = styleConfig.innerBorderColor;
            ctx.lineWidth = 3;
            ctx.strokeRect(110, 110, canvas.width - 220, canvas.height - 220);
            
            // è®¾ç½®å­—ä½“å’Œé¢œè‰²ï¼ˆè¡Œä¹¦å­—ä½“ï¼‰
            ctx.fillStyle = styleConfig.textColor;
            
            // è§£æè¯—å¥
            const poemLines = result.poem.split('\n');
            const titleLine = poemLines[0]; // è¯—æ­Œæ ‡é¢˜è¡Œ
            const author = titleLine.includes(' - ') ? titleLine.split(' - ')[1] : '';
            let title = titleLine.includes(' - ') ? titleLine.split(' - ')[0] : titleLine;
            
            // å»æ‰è¯—æ­Œæ ‡é¢˜çš„ã€Šã€‹ç¬¦å·
            title = title.replace(/ã€Š|ã€‹/g, '');
            
            const poemContent = poemLines.slice(1).filter(line => line.trim());
            
            // è®¾ç½®è¡Œä¹¦å­—ä½“ï¼Œæ ¹æ®æµè§ˆå™¨æ”¯æŒæƒ…å†µé€‰æ‹©å­—ä½“
            const chineseFont = '48px "KaiTi", "æ¥·ä½“", "STKaiti", cursive, serif';
            ctx.font = chineseFont;
            
            // ä¸­å›½å¤ç±ç«–æ’ç‰ˆï¼šä»å³åˆ°å·¦ï¼Œç”±ä¸Šè‡³ä¸‹
            // æŒ‰æ ‡ç‚¹ç¬¦å·åˆ†å¥ï¼Œæ¯å¥ä¸ºä¸€åˆ—ï¼Œä½†æ˜¾ç¤ºæ—¶å»æ‰æ ‡ç‚¹ç¬¦å·
            
            // å°†æ‰€æœ‰è¯—å¥å†…å®¹åˆå¹¶ï¼Œç„¶åæŒ‰æ ‡ç‚¹ç¬¦å·åˆ†å¥
            const fullPoem = poemContent.join('');
            const sentences = [];
            let currentSentence = '';
            
            for (let i = 0; i < fullPoem.length; i++) {
                const char = fullPoem[i];
                
                // é‡åˆ°æ ‡ç‚¹ç¬¦å·æ—¶ç»“æŸå½“å‰å¥å­ï¼Œä½†ä¸åŒ…å«æ ‡ç‚¹ç¬¦å·
                if (char === 'ï¼Œ' || char === 'ã€‚' || char === 'ï¼Ÿ' || char === 'ï¼' || char === 'ï¼›' || char === 'ï¼š') {
                    if (currentSentence.trim()) {
                        sentences.push(currentSentence.trim());
                        currentSentence = '';
                    }
                } else {
                    // åªæ·»åŠ éæ ‡ç‚¹ç¬¦å·å­—ç¬¦
                    currentSentence += char;
                }
            }
            
            // å¦‚æœè¿˜æœ‰å‰©ä½™å†…å®¹ï¼Œä¹ŸåŠ å…¥å¥å­æ•°ç»„
            if (currentSentence.trim()) {
                sentences.push(currentSentence.trim());
            }
            
            // è®¾ç½®æ›´å¤§çš„å­—ä½“å’Œæ›´åˆé€‚çš„é—´è·
            ctx.font = '56px "KaiTi", "æ¥·ä½“", "STKaiti", cursive, serif';
            
            const startX = canvas.width - 200; // ä»å³ä¾§å¼€å§‹ï¼Œå¾€å·¦ç§»åŠ¨é¿å…ä¸è¾¹æ¡†é‡å 
            const topMargin = 300; // ä¸Šè¾¹è·
            const bottomMargin = 350; // ä¸ºå·¦ä¸‹è§’è¯—åå’Œä½œè€…ç•™ç©ºé—´ï¼Œç¨å¾®å‡å°‘
            const lineSpacing = 140; // ç«–åˆ—é—´è·
            const charSpacing = 68; // å­—ç¬¦é—´è·
            
            // é’ˆå¯¹è²èŠ±å’Œæµ·æ£ çš„ç‰¹æ®Šæ’ç‰ˆé€»è¾‘
            if (currentPlantForWallpaper === 'lotus') {
                // è²èŠ±çš„ç‰¹æ®Šå¤„ç†ï¼šæŒ‰åŸæ–‡é¡ºåºï¼Œè¿ç»­å››å­—çŸ­å¥ä¸¤ä¸ªæ’åœ¨åŒä¸€ç«–åˆ—
                const groupedSentences = [];
                let i = 0;
                
                while (i < sentences.length) {
                    const currentSentence = sentences[i];
                    
                    // æ£€æŸ¥å½“å‰å¥å­æ˜¯å¦ä¸ºå››å­—å¥ï¼Œä¸”ä¸‹ä¸€å¥ä¹Ÿæ˜¯å››å­—å¥
                    if (currentSentence.length === 4 && 
                        i + 1 < sentences.length && 
                        sentences[i + 1].length === 4) {
                        // åˆå¹¶ä¸¤ä¸ªè¿ç»­çš„å››å­—å¥ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”
                        groupedSentences.push(currentSentence + ' ' + sentences[i + 1]);
                        i += 2; // è·³è¿‡ä¸‹ä¸€å¥ï¼Œå› ä¸ºå·²ç»åˆå¹¶äº†
                    } else {
                        // å•ç‹¬å¤„ç†éå››å­—å¥æˆ–å•ç‹¬çš„å››å­—å¥
                        groupedSentences.push(currentSentence);
                        i++;
                    }
                }
                
                // ç»˜åˆ¶è²èŠ±çš„åˆ†ç»„å¥å­
                groupedSentences.forEach((sentence, sentenceIndex) => {
                    if (sentence.trim()) {
                        const x = startX - sentenceIndex * lineSpacing;
                        const chars = sentence.split('');
                        let y = topMargin;
                        
                        chars.forEach((char, charIndex) => {
                            if (char === ' ') {
                                // é‡åˆ°ç©ºæ ¼æ—¶å¢åŠ é¢å¤–é—´è·è¡¨ç¤ºæ–­å¥
                                y += charSpacing * 1.5;
                            } else {
                                // ç›´æ¥ç»˜åˆ¶å­—ç¬¦
                                ctx.fillText(char, x, y);
                                y += charSpacing;
                            }
                            
                            // ç¡®ä¿ä¸è¶…å‡ºåº•éƒ¨è¾¹ç•Œ
                            if (y > canvas.height - bottomMargin) {
                                return;
                            }
                        });
                    }
                });
            } else if (currentPlantForWallpaper === 'begonia') {
                // æµ·æ£ ï¼ˆææ¸…ç…§ï¼‰çš„ç‰¹æ®Šå¤„ç†ï¼šæŠŠ"çŸ¥å¦ çŸ¥å¦"æ”¾åœ¨åŒä¸€ç«–åˆ—
                const groupedSentences = [];
                let i = 0;
                
                while (i < sentences.length) {
                    const currentSentence = sentences[i];
                    
                    // æ£€æŸ¥æ˜¯å¦ä¸º"çŸ¥å¦"ï¼Œä¸”ä¸‹ä¸€å¥ä¹Ÿæ˜¯"çŸ¥å¦"
                    if (currentSentence === 'çŸ¥å¦' && 
                        i + 1 < sentences.length && 
                        sentences[i + 1] === 'çŸ¥å¦') {
                        // åˆå¹¶ä¸¤ä¸ª"çŸ¥å¦"ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”
                        groupedSentences.push('çŸ¥å¦ çŸ¥å¦');
                        i += 2; // è·³è¿‡ä¸‹ä¸€å¥ï¼Œå› ä¸ºå·²ç»åˆå¹¶äº†
                    } else {
                        // å•ç‹¬å¤„ç†å…¶ä»–å¥å­
                        groupedSentences.push(currentSentence);
                        i++;
                    }
                }
                
                // ç»˜åˆ¶æµ·æ£ çš„åˆ†ç»„å¥å­
                groupedSentences.forEach((sentence, sentenceIndex) => {
                    if (sentence.trim()) {
                        const x = startX - sentenceIndex * lineSpacing;
                        const chars = sentence.split('');
                        let y = topMargin;
                        
                        chars.forEach((char, charIndex) => {
                            if (char === ' ') {
                                // é‡åˆ°ç©ºæ ¼æ—¶å¢åŠ é¢å¤–é—´è·è¡¨ç¤ºæ–­å¥
                                y += charSpacing * 1.5;
                            } else {
                                // ç›´æ¥ç»˜åˆ¶å­—ç¬¦
                                ctx.fillText(char, x, y);
                                y += charSpacing;
                            }
                            
                            // ç¡®ä¿ä¸è¶…å‡ºåº•éƒ¨è¾¹ç•Œ
                            if (y > canvas.height - bottomMargin) {
                                return;
                            }
                        });
                    }
                });
            } else if (currentPlantForWallpaper === 'pine') {
                // æ¾æ ‘ï¼ˆæœç”«ã€Šæœ›å²³ã€‹ï¼‰çš„ç‰¹æ®Šå¤„ç†ï¼š8å¥åˆå¹¶æˆ4åˆ—ï¼Œæ¯åˆ—2å¥
                const groupedSentences = [];
                
                for (let i = 0; i < sentences.length; i += 2) {
                    if (i + 1 < sentences.length) {
                        // åˆå¹¶ç›¸é‚»ä¸¤å¥ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”
                        groupedSentences.push(sentences[i] + ' ' + sentences[i + 1]);
                    } else {
                        // å¦‚æœæ˜¯å¥‡æ•°å¥ï¼Œå•ç‹¬å¤„ç†æœ€åä¸€å¥
                        groupedSentences.push(sentences[i]);
                    }
                }
                
                // ç»˜åˆ¶æ¾æ ‘çš„åˆ†ç»„å¥å­
                groupedSentences.forEach((sentence, sentenceIndex) => {
                    if (sentence.trim()) {
                        const x = startX - sentenceIndex * lineSpacing;
                        const chars = sentence.split('');
                        let y = topMargin;
                        
                        chars.forEach((char, charIndex) => {
                            if (char === ' ') {
                                // é‡åˆ°ç©ºæ ¼æ—¶å¢åŠ é¢å¤–é—´è·è¡¨ç¤ºæ–­å¥
                                y += charSpacing * 1.5;
                            } else {
                                // ç›´æ¥ç»˜åˆ¶å­—ç¬¦
                                ctx.fillText(char, x, y);
                                y += charSpacing;
                            }
                            
                            // ç¡®ä¿ä¸è¶…å‡ºåº•éƒ¨è¾¹ç•Œ
                            if (y > canvas.height - bottomMargin) {
                                return;
                            }
                        });
                    }
                });
            } else if (currentPlantForWallpaper === 'chrysanthemum') {
                // èŠèŠ±ï¼ˆé™¶æ¸Šæ˜ã€Šé¥®é…’ã€‹ï¼‰çš„ç‰¹æ®Šå¤„ç†ï¼š10å¥åˆå¹¶æˆ5åˆ—ï¼Œæ¯åˆ—2å¥
                const groupedSentences = [];
                
                for (let i = 0; i < sentences.length; i += 2) {
                    if (i + 1 < sentences.length) {
                        // åˆå¹¶ç›¸é‚»ä¸¤å¥ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”
                        groupedSentences.push(sentences[i] + ' ' + sentences[i + 1]);
                    } else {
                        // å¦‚æœæ˜¯å¥‡æ•°å¥ï¼Œå•ç‹¬å¤„ç†æœ€åä¸€å¥
                        groupedSentences.push(sentences[i]);
                    }
                }
                
                // ç»˜åˆ¶èŠèŠ±çš„åˆ†ç»„å¥å­
                groupedSentences.forEach((sentence, sentenceIndex) => {
                    if (sentence.trim()) {
                        const x = startX - sentenceIndex * lineSpacing;
                        const chars = sentence.split('');
                        let y = topMargin;
                        
                        chars.forEach((char, charIndex) => {
                            if (char === ' ') {
                                // é‡åˆ°ç©ºæ ¼æ—¶å¢åŠ é¢å¤–é—´è·è¡¨ç¤ºæ–­å¥
                                y += charSpacing * 1.5;
                            } else {
                                // ç›´æ¥ç»˜åˆ¶å­—ç¬¦
                                ctx.fillText(char, x, y);
                                y += charSpacing;
                            }
                            
                            // ç¡®ä¿ä¸è¶…å‡ºåº•éƒ¨è¾¹ç•Œ
                            if (y > canvas.height - bottomMargin) {
                                return;
                            }
                        });
                    }
                });
            } else {
                // å…¶ä»–æ¤ç‰©çš„å¸¸è§„å¤„ç†
                sentences.forEach((sentence, sentenceIndex) => {
                    if (sentence.trim()) {
                        const x = startX - sentenceIndex * lineSpacing;
                        const chars = sentence.split('');
                        let y = topMargin;
                        
                        chars.forEach((char, charIndex) => {
                            // ç›´æ¥ç»˜åˆ¶å­—ç¬¦ï¼Œæ— éœ€å¤„ç†æ ‡ç‚¹ç¬¦å·
                            ctx.fillText(char, x, y);
                            y += charSpacing;
                            
                            // ç¡®ä¿ä¸è¶…å‡ºåº•éƒ¨è¾¹ç•Œ
                            if (y > canvas.height - bottomMargin) {
                                return;
                            }
                        });
                    }
                });
            }
            
            // ç»˜åˆ¶è¯—åå’Œä½œè€…ï¼ˆå·¦ä¸‹è§’ç«–æ’ï¼‰
            ctx.font = '40px "KaiTi", "æ¥·ä½“", "STKaiti", cursive, serif';
            
            // è¯—åï¼ˆå·¦ä¸‹è§’ï¼Œç«–æ’ï¼‰- ä½ç½®å¾€ä¸Šç§»åŠ¨
            if (title) {
                const titleChars = title.split('');
                let titleY = canvas.height - 400; // å¾€ä¸Šç§»åŠ¨100px
                const titleX = 200;
                
                titleChars.forEach((char, index) => {
                    if (titleY < canvas.height - 100) { // ç¡®ä¿ä¸ä¼šå¤ªé è¿‘åº•éƒ¨
                        ctx.fillText(char, titleX, titleY);
                        titleY += 45;
                    }
                });
            }
            
            // ä½œè€…ï¼ˆè¯—åå·¦ä¾§ï¼Œç«–æ’ï¼‰- ä½ç½®ä¹Ÿå¾€ä¸Šç§»åŠ¨
            if (author) {
                const authorChars = author.split('');
                let authorY = canvas.height - 400; // å¾€ä¸Šç§»åŠ¨100px
                const authorX = 150;
                
                authorChars.forEach((char, index) => {
                    if (authorY < canvas.height - 100) { // ç¡®ä¿ä¸ä¼šå¤ªé è¿‘åº•éƒ¨
                        ctx.fillText(char, authorX, authorY);
                        authorY += 45;
                    }
                });
            }
            
            // ç»˜åˆ¶"ç¢ç‰"å“ç‰Œå°ç« ï¼ˆå·¦ä¸‹è§’ä½ç½®ï¼‰
            const sealSize = 75;
            const sealX = 175;
            const sealY = canvas.height - 180;
            
            // ç»˜åˆ¶å°ç« è¾¹æ¡†ï¼ˆæ–¹å½¢ï¼‰
            ctx.fillStyle = '#c8322f';
            ctx.fillRect(sealX - sealSize/2, sealY - sealSize/2, sealSize, sealSize);
            
            // ç»˜åˆ¶å†…éƒ¨è¾¹æ¡†
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(sealX - sealSize/2 + 4, sealY - sealSize/2 + 4, sealSize - 8, sealSize - 8);
            
            // ç»˜åˆ¶å°ç« èƒŒæ™¯
            ctx.fillStyle = '#c8322f';
            ctx.fillRect(sealX - sealSize/2 + 6, sealY - sealSize/2 + 6, sealSize - 12, sealSize - 12);
            
            // ç»˜åˆ¶"ç¢ç‰"äºŒå­—ï¼ˆæ¥·ä½“é£æ ¼ï¼‰
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 24px "KaiTi", "æ¥·ä½“", "STKaiti", serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // "ç¢"å­—
            ctx.fillText('ç¢', sealX, sealY - 12);
            // "ç‰"å­—  
            ctx.fillText('ç‰', sealX, sealY + 12);
            
            // æ·»åŠ å°ç« çš„å¤å…¸çº¹ç†æ•ˆæœ
            ctx.save();
            ctx.globalAlpha = 0.3;
            ctx.fillStyle = '#a02622';
            
            // æ·»åŠ ä¸€äº›å¤å…¸çº¹ç†ç‚¹
            for (let i = 0; i < 20; i++) {
                const px = sealX - 25 + Math.random() * 50;
                const py = sealY - 25 + Math.random() * 50;
                ctx.beginPath();
                ctx.arc(px, py, 1, 0, 2 * Math.PI);
                ctx.fill();
            }
            ctx.restore();
            
            // æ˜¾ç¤ºé¢„è§ˆ
            document.getElementById('modal-wallpaper-preview').style.display = 'block';
        }

        // ä¸‹è½½å¼¹çª—ä¸­çš„å£çº¸
        function downloadModalWallpaper() {
            const canvas = document.getElementById('modal-wallpaper-canvas');
            const result = plants[currentPlantForWallpaper];
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const link = document.createElement('a');
            link.download = `${result.name}_${result.person}_è¯—å¥å£çº¸_${selectedModalStyle}.png`;
            link.href = canvas.toDataURL('image/png');
            
            // è§¦å‘ä¸‹è½½
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
        window.onclick = function(event) {
            const modal = document.getElementById('wallpaper-modal');
            if (event.target === modal) {
                closeWallpaperModal();
            }
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            scores = {
                lotus: 0,
                chrysanthemum: 0,
                peony: 0,
                bamboo: 0,
                plum: 0,
                pine: 0,
                azalea: 0,
                begonia: 0,
                peach: 0
            };
            userResult = '';
            selectedWallpaperStyle = '';
            selectedModalStyle = '';
            currentPlantForWallpaper = '';
            
            resultScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            loadQuestion(0);
        }

        // éŸ³ä¹æ’­æ”¾æ§åˆ¶ç³»ç»Ÿ
        const backgroundMusic = document.getElementById('background-music');
        const musicButton = document.getElementById('music-button');
        const volumePanel = document.getElementById('volume-panel');
        const volumeSlider = document.getElementById('volume-slider');
        const musicToggle = document.getElementById('music-toggle');
        
        let isPlaying = false;
        let isVolumeVisible = false;

        // åˆå§‹åŒ–éŸ³ä¹ç³»ç»Ÿ
        function initMusicSystem() {
            // è®¾ç½®åˆå§‹éŸ³é‡
            backgroundMusic.volume = 0.5;
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆç°ä»£æµè§ˆå™¨å¯èƒ½ä¼šé˜»æ­¢ï¼‰
            const playPromise = backgroundMusic.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // è‡ªåŠ¨æ’­æ”¾æˆåŠŸ
                    isPlaying = true;
                    updateMusicToggleIcon();
                }).catch(error => {
                    // è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œæ˜¾ç¤ºæ’­æ”¾æŒ‰é’®
                    console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’åæ’­æ”¾');
                    isPlaying = false;
                    updateMusicToggleIcon();
                });
            }
        }

        // æ›´æ–°æ’­æ”¾æŒ‰é’®å›¾æ ‡
        function updateMusicToggleIcon() {
            musicToggle.textContent = isPlaying ? 'â¸ï¸' : 'â–¶ï¸';
        }

        // éŸ³ä¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        musicButton.addEventListener('click', function() {
            isVolumeVisible = !isVolumeVisible;
            
            if (isVolumeVisible) {
                volumePanel.classList.add('show');
            } else {
                volumePanel.classList.remove('show');
            }
        });

        // æ’­æ”¾/æš‚åœåˆ‡æ¢
        musicToggle.addEventListener('click', function(e) {
            e.stopPropagation(); // é˜²æ­¢è§¦å‘çˆ¶å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶
            
            if (isPlaying) {
                backgroundMusic.pause();
                isPlaying = false;
            } else {
                const playPromise = backgroundMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isPlaying = true;
                    }).catch(error => {
                        console.log('æ’­æ”¾å¤±è´¥:', error);
                    });
                }
            }
            updateMusicToggleIcon();
        });

        // éŸ³é‡æ§åˆ¶
        volumeSlider.addEventListener('input', function() {
            const volume = this.value / 100;
            backgroundMusic.volume = volume;
            
            // å¦‚æœéŸ³é‡å¤§äº0ä¸”éŸ³ä¹æš‚åœï¼Œè‡ªåŠ¨æ’­æ”¾
            if (volume > 0 && !isPlaying) {
                const playPromise = backgroundMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isPlaying = true;
                        updateMusicToggleIcon();
                    }).catch(error => {
                        console.log('éŸ³é‡è°ƒèŠ‚æ—¶æ’­æ”¾å¤±è´¥:', error);
                    });
                }
            }
        });

        // ç‚¹å‡»é¡µé¢å…¶ä»–åŒºåŸŸå…³é—­éŸ³é‡é¢æ¿
        document.addEventListener('click', function(e) {
            if (!musicButton.contains(e.target) && !volumePanel.contains(e.target)) {
                volumePanel.classList.remove('show');
                isVolumeVisible = false;
            }
        });

        // éŸ³é¢‘äº‹ä»¶ç›‘å¬
        backgroundMusic.addEventListener('play', function() {
            isPlaying = true;
            updateMusicToggleIcon();
        });

        backgroundMusic.addEventListener('pause', function() {
            isPlaying = false;
            updateMusicToggleIcon();
        });

        backgroundMusic.addEventListener('ended', function() {
            // ç”±äºè®¾ç½®äº†loopå±æ€§ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šè§¦å‘endedäº‹ä»¶
            // ä½†ä¸ºäº†ä¿é™©èµ·è§è¿˜æ˜¯æ·»åŠ å¤„ç†
            isPlaying = false;
            updateMusicToggleIcon();
        });

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–éŸ³ä¹
        window.addEventListener('DOMContentLoaded', function() {
            initMusicSystem();
        });

        // é¡µé¢å¯è§æ€§å˜åŒ–æ—¶çš„å¤„ç†
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // é¡µé¢éšè—æ—¶æš‚åœéŸ³ä¹ï¼ˆå¯é€‰ï¼‰
                // backgroundMusic.pause();
            } else {
                // é¡µé¢æ˜¾ç¤ºæ—¶æ¢å¤éŸ³ä¹ï¼ˆå¦‚æœä¹‹å‰åœ¨æ’­æ”¾ï¼‰
                if (isPlaying && backgroundMusic.paused) {
                    const playPromise = backgroundMusic.play();
                    if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            console.log('æ¢å¤æ’­æ”¾å¤±è´¥:', error);
                        });
                    }
                }
            }
        });

        // ä¸ºå¼€å§‹æŒ‰é’®æ·»åŠ éŸ³ä¹æ’­æ”¾è§¦å‘ï¼ˆè§£å†³æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾é™åˆ¶ï¼‰
        document.getElementById('start-btn').addEventListener('click', function() {
            if (!isPlaying) {
                const playPromise = backgroundMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isPlaying = true;
                        updateMusicToggleIcon();
                    }).catch(error => {
                        console.log('å¼€å§‹æµ‹è¯•æ—¶æ’­æ”¾éŸ³ä¹å¤±è´¥:', error);
                    });
                }
            }
        });
    </script>
</body>
</html>
